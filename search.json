[{"path":"https://sdaume.github.io/srcquantcourse/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Stefan Daume Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Example 1: Topic modelling Covid preprints","text":"example topic modelling analysis using Structural Topic Model (STM) (Roberts, Stewart, Tingley 2019) explore subset bioRxiv medRxiv preprints covering research related Covid-19. medRxiv website actually provides access dedicated collection preprints medRxix bioRxiv covering COVID-19 SARS-CoV-2. however work whole preprint collection create subset using keyword matching. Note analysis intended illustrate method topic modeling. complete analysis sample preprints detailed like feature larger number topics. document assumes familiarity Structural Topic Modeling (STM). Please consult stm package vignette (Roberts, Stewart, Tingley 2019) background.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"getting-the-document-data","dir":"Articles","previous_headings":"","what":"Getting the document data","title":"Example 1: Topic modelling Covid preprints","text":"bioRxiv medRxiv servers provide API access retrieve preprint meta-data. One option access API use medrxivr package. code snippet example collect bioRxiv preprint meta-data year 2015. package setup support exploring different thematic preprint subsets assumes usage preprints servers published 2013 2023. data can shared package usage API terms bioRxiv/medRxiv permit redistribution rehosting complete data; therefore package provides scripts collect clean data order replicate analysis (check /data-raw package repository). documented examples assume obtained data created local copy replication analyses. code allow . NOTE time writing returned dataset 365526 records. Retrieving data take several hours. replicating analysis like use bioRxiv/medRxiv API responsibly. Consider collecting smaller datasets (example shown example require preprints 2020 2023). Alternatively, use bulk snapshot detailed . addition 15 meta-data variables returned via API code adds server variable indicate origin preprint. important variable examples shown .","code":"library(medrxivr)  biorxiv_raw <- mx_api_content(server = \"biorxiv\",                               from_date = \"2015-12-01\",                               to_date = \"2015-12-31\") library(dplyr) library(medrxivr)  # get publications from medRxiv and bioRxiv pubs_biorxiv_raw <- medrxivr::mx_api_content(server = \"biorxiv\",                                              #from_date = \"2019-01-01\",                                              to_date = \"2023-12-31\")  pubs_medrxiv_raw <- medrxivr::mx_api_content(server = \"medrxiv\",                                              #from_date = \"2019-01-01\",                                              to_date = \"2023-12-31\")  pubs_biorxiv_raw <- pubs_biorxiv_raw %>%   mutate(server = \"biorxiv\")  pubs_medrxiv_raw <- pubs_medrxiv_raw %>%   mutate(server = \"medrxiv\")  preprints_raw <- dplyr::bind_rows(pubs_biorxiv_raw, pubs_medrxiv_raw)  save(preprints_raw, file = \"./data-raw/preprints_raw.Rdata\")"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"cleaning-filtering-and-annotating-the-data","dir":"Articles","previous_headings":"","what":"Cleaning, filtering and annotating the data","title":"Example 1: Topic modelling Covid preprints","text":"first step raw preprint data cleaned. Specifically, want retain one unique record per preprint, multiple versions unique doi may exist. retain latest version per DOI also ensure duplicate dois. crucial need unique identifier document want include topic modelling. Next annotate data additional variables, specifically want reduce publication date publication year, add additional variable is_published, inferred published variable. latter provides DOI journal preprint published peer review. also limit data preprints 2020 2023 (analysis Covid topics preprints prior 2020 relevant), retain variables may want explore document covariates, .e. document properties potentially influence prevalence topics. Finally, define keywords reduce preprint set preprints contain one keywords either title abstract, resulting subset 29692 publications.","code":"library(dplyr)  preprints_cleaned <- preprints_raw %>%   group_by(doi) %>%   filter(version == max(version)) %>%   ungroup() %>%   distinct(doi, .keep_all = TRUE) preprints <- preprints_cleaned %>%   mutate(published = stringr::str_trim(published)) %>%   mutate(published = na_if(published, \"NA\")) %>%   mutate(is_published = as.numeric(!is.na(published))) %>%   mutate(is_published = case_when(is_published == 1 ~ \"published\",                                   is_published == 0 ~ \"not published\",                                   TRUE ~ \"undefined\")) %>%   mutate(year = lubridate::year(date)) %>%   filter(year >= 2020 & year <= 2023) %>%    select(doi, server, title, abstract, date, year, version, is_published) library(stringr)  keywords <- c(\"sars-cov\", \"covid\")  search_pattern <- stringr::regex(paste(keywords, collapse = \"|\"),                                   ignore_case = TRUE)  covid_preprints <- preprints %>%   filter(stringr::str_detect(title, pattern = search_pattern) |            stringr::str_detect(abstract, pattern = search_pattern))"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"preparing-and-preprocessing-the-documents-for-text-analysis","dir":"Articles","previous_headings":"","what":"Preparing and preprocessing the documents for text analysis","title":"Example 1: Topic modelling Covid preprints","text":"order analyze preprints stm package need create representation documents document meta-data stm can utilize. stm offers built-methods support (see specifically textProcessor() prepDocuments() methods (Roberts, Stewart, Tingley 2019)). use instead quanteda package (Benoit et al. 2018) provides broad range methods text pre-processing analysis, creating formats also supported stm.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"create-a-corpus","dir":"Articles","previous_headings":"Preparing and preprocessing the documents for text analysis","what":"Create a corpus","title":"Example 1: Topic modelling Covid preprints","text":"First, create corpus object dataframe preprints. corpus essentially library documents used next steps. specifies variable used uniquely identify documents variable holds textual content (preprint abstracts) processed. Echoing corpus provide basic information. variables original dataframe interpreted included document metadata (‘docvars’), later included STM topic modelling process.","code":"library(quanteda)  pubs_corpus <- covid_preprints %>%   quanteda::corpus(docid_field = \"doi\", text_field = \"abstract\")  # pubs_corpus # Corpus consisting of 29,692 documents and 6 docvars."},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"tokenize-and-preprocess","dir":"Articles","previous_headings":"Preparing and preprocessing the documents for text analysis","what":"Tokenize and preprocess","title":"Example 1: Topic modelling Covid preprints","text":"analysis corpus documents tokenized, .e. processing texts broken semantic units relevant analysis. common approach interpret word (typically designated whitespaces punctuation) token. applied well. quanteda offers several alternative approaches. Instead individual words, sequences words (n-grams) example used. tokenization method also provides several options preprocessing filtering tokens. example, tokenizing, simultaneously remove punctuation, numbers, special symbols URLs. Furthermore, split words containing hyphens, word like social-ecological thus split two individual tokens (social ecological). text preprocessing choices strongly influence results text analysis thoroughly explained, carefully evaluated ideally based theory (see (Denny Spirling 2018)).","code":"pubs_tokens <- pubs_corpus %>%   quanteda::tokens(remove_punct = TRUE,                    remove_symbols = TRUE,                    remove_numbers = TRUE,                    remove_url = TRUE,                    remove_separators = TRUE,                    split_hyphens = TRUE)"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"create-a-document-feature-matrix","dir":"Articles","previous_headings":"Preparing and preprocessing the documents for text analysis","what":"Create a Document-feature matrix","title":"Example 1: Topic modelling Covid preprints","text":"tokens object used create document-feature matrix. statistical analysis reduces tokens matrix documents (rows) unique terms (columns) counts number occurrences term document. quanteda captures features supports general options terms (see quanteda documentation details).","code":"pubs_dfm <- pubs_tokens %>%   quanteda::dfm()"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"filter-terms-and-documents","dir":"Articles","previous_headings":"Preparing and preprocessing the documents for text analysis","what":"Filter terms and documents","title":"Example 1: Topic modelling Covid preprints","text":"followed (optional) processing filtering steps. common option example — reduce size data assist interpretation — removal -called stopwords (e.g. “”, “”, “” etc). step omitted reducing words (terms) word stem. stemming algorithm (several available) reduces words word stem. terms “universal”, “university” “universe” example reduced word stem “univers”; example indicates approach may require careful consideration. Stemming advantage potentially reduce size matrix substantially. options may considered reduce noise /size matrix. following code removes example terms (features) consist one character, terms appear least two different documents, furthermore remove documents contain least 5 tokens. example drops one document reduces number retained features half.","code":"pubs_dfm <- pubs_dfm %>%   quanteda::dfm_remove(pattern = quanteda::stopwords(\"english\")) #%>%   #quanteda::dfm_wordstem() # echo the result > pubs_dfm  Document-feature matrix of: 29,692 documents, 82,472 features (99.87% sparse) and 6 docvars.                 features docs             nitric oxide synthesised three isoforms synthases viz nnos neurons enos   10.1101/038398      6     6           1     1        1         1   1    1       2    1   10.1101/058511      0     0           0     0        0         0   0    0       0    0   10.1101/292979      0     0           0     2        0         0   0    0       0    0   10.1101/402370      0     0           0     0        0         0   0    0       0    0   10.1101/420737      0     0           0     0        0         0   0    0       0    0   10.1101/596700      0     0           0     0        0         0   0    0       0    0 [ reached max_ndoc ... 29,686 more documents, reached max_nfeat ... 82,462 more features ] pubs_dfm <- pubs_dfm %>%   quanteda::dfm_remove(min_nchar = 2) %>%   quanteda::dfm_trim(min_docfreq = 2, docfreq_type = \"count\") %>%   quanteda::dfm_subset(quanteda::ntoken(.) > 4) # echo the result > pubs_dfm  Document-feature matrix of: 29,691 documents, 37,093 features (99.72% sparse) and 6 docvars.                 features docs             nitric oxide synthesised three isoforms synthases viz neurons enos endothelial   10.1101/038398      6     6           1     1        1         1   1       2    1           2   10.1101/058511      0     0           0     0        0         0   0       0    0           0   10.1101/292979      0     0           0     2        0         0   0       0    0           0   10.1101/402370      0     0           0     0        0         0   0       0    0           0   10.1101/420737      0     0           0     0        0         0   0       0    0           0   10.1101/596700      0     0           0     0        0         0   0       0    0           0 [ reached max_ndoc ... 29,685 more documents, reached max_nfeat ... 37,083 more features ]"},{"path":[]},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"fitting-the-stm-topic-model","dir":"Articles","previous_headings":"Topic modeling","what":"Fitting the STM topic model","title":"Example 1: Topic modelling Covid preprints","text":"key input topic modelling algorithm number topics (K) model fit , set 20 (see separate document discussion suitable choices number topics). fitting topic model convert document-feature matrix native STM format. order fit topic model stm() function need set documents, vocabulary documents composed dataframe specifying values document meta-data variables (data) can used process “covariates” might influence prevalence topics document. example , ask stm incorporate origin document (server) publication year fitting topic model. argument prevalence = ~ server * s(year) expresses assume prevalence topics document influenced two variables, also interact, .e. work hypothesis different temporal trends expected documents published either two preprint servers1. consideration covariates optional. omitted model reduces Correlated Topic Model (Blei Lafferty 2007; Roberts, Stewart, Tingley 2019). also supply seed, allows replicate results topic modeling.","code":"library(stm)  covid_stm_docs <- quanteda::convert(pubs_dfm, to = \"stm\")  covid_model_K20 <- stm(documents = covid_stm_docs$documents,                        vocab = covid_stm_docs$vocab,                        data = covid_stm_docs$meta,                        prevalence = ~ server * s(year),                        K = 20,                        verbose = TRUE,                        seed = 9868467)"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"estimating-the-effect-of-document-covariates","dir":"Articles","previous_headings":"Topic modeling","what":"Estimating the effect of document covariates","title":"Example 1: Topic modelling Covid preprints","text":"model converged can estimate effect document covariates topic prevalence. estimateEffect() function allows run regressions based formula specified first argument. identical formula used fitting topic model, regressions run 20 topics. metadata used previously needs supplied function addition topic model object. concludes fitting model. following sections step sample exploration topic model.","code":"covid_effect_K20 <- estimateEffect(1:20 ~ server * s(year),                                    stmobj = covid_model_K20,                                    metadata = covid_stm_docs$meta)"},{"path":[]},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"basic-topic-model-information","dir":"Articles","previous_headings":"Analysing and interpreting the topic model","what":"Basic topic model information","title":"Example 1: Topic modelling Covid preprints","text":"topic model defined two matrices capture probability distributions topics documents (gamma matrix) words (terms) topics (beta matrix). can start exploring built-functions stm. plot() function plots chart showing topic proportions topics model. topic identified unique ID (1-20) plot five words (terms) highest probability associated given topic. gives early indication distinct latent topics analysed subset preprints.  summary() function provides detailed view topics can help begin interpreting labeling 20 topics. Specifically, output shows four different sets words associated topic. ‘Highest Prob’ lists words highest probability associated topic. comparison different topics highlights term covid high probability several topics. list ‘FREX’ words summarizes words frequent exclusive topic, .e. characterize topic comparison topics (consult stm::labelTopics() details well Lift Score word sets).","code":"plot(covid_model_K20, n = 5) summary(covid_model_K20) ># A topic model with 20 topics, 29691 documents and a 37093 word dictionary. ># Topic 1 Top Words: >#       Highest Prob: model, can, covid, transmission, epidemic, data, disease  >#       FREX: npis, mathematical, compartmental, scenarios, seir, reproduction, sir  >#       Lift: 1we, abms, ao_scplowbstractc_scplowas, apt, artefact, asilv, asymptotically  >#       Score: distancing, social, epidemic, reproduction, npis, model, r0  ># Topic 2 Top Words: >#       Highest Prob: cov, sars, drug, antiviral, activity, drugs, covid  >#       FREX: src, figdir, o_linksmallfig, c_fig, m_fig, o_fig, gif  >#       Lift: k777, gif, pmmov, wwtps, 13k, 17k, 18k  >#       Score: mpro, antiviral, drug, inhibitors, protease, drugs, compounds  ># Topic 3 Top Words: >#       Highest Prob: covid, risk, age, mortality, ci, associated, years  >#       FREX: hispanic, ethnicity, pregnant, racial, black, smoking, preterm  >#       Lift: 65s, asmr, assault, backgroundethnic, backgroundracial, backgroundsocio, brunt  >#       Score: ci, age, women, mortality, ethnicity, aor, hispanic  ># Topic 4 Top Words: >#       Highest Prob: covid, health, pandemic, mental, social, study, survey  >#       FREX: loneliness, emotional, attitude, depression, insecurity, mental, anxiety  >#       Lift: insecurity, accelerometers, amhara, angry, anovas, asd, asleep  >#       Score: mental, anxiety, depression, respondents, social, psychological, students  ># Topic 5 Top Words: >#       Highest Prob: sars, cov, infection, testing, transmission, cases, children  >#       FREX: ifr, seroprevalence, schools, school, contacts, household, attack  >#       Lift: inmates, 19y, 35y, 39y, 9a, abidjan, addscovid  >#       Score: school, seroprevalence, children, schools, household, transmission, testing  ># Topic 6 Top Words: >#       Highest Prob: cov, sars, virus, viral, coronavirus, respiratory, infection  >#       FREX: bats, cats, deer, animals, covs, wildlife, hcov  >#       Lift: cats, 5x106, aav6, aegyptiacus, aethiops, affinis, agm  >#       Score: cov, sars, mice, rna, viruses, coronaviruses, animals  ># Topic 7 Top Words: >#       Highest Prob: patients, covid, hospital, disease, clinical, severe, admission  >#       FREX: acei, admission, arbs, admitted, icu, aki, aceis  >#       Lift: 1.1x109, 2020r1g1a1a01006229, 2l, 4.0x109, 40y, ahmad, ahrq  >#       Score: patients, admission, icu, hospital, admitted, ci, hospitalized  ># Topic 8 Top Words: >#       Highest Prob: covid, cases, countries, number, deaths, data, pandemic  >#       FREX: cfr, italy, cities, country, countries, fatality, china  >#       Lift: 1000m, 1th, 55th, abysmally, abyss, adhanom, adminstat  >#       Score: countries, cases, lockdown, deaths, country, cfr, daily  ># Topic 9 Top Words: >#       Highest Prob: protein, binding, spike, sars, cov, ace2, rbd  >#       FREX: conformational, cryo, conformation, glycans, conformations, nanobodies, residues  >#       Lift: 13c, 6lzg, 6m0j, 6vw1, 6vxx, aabpu, abdab  >#       Score: binding, rbd, protein, spike, ace2, proteins, epitopes  ># Topic 10 Top Words: >#       Highest Prob: data, can, learning, covid, using, model, based  >#       FREX: aerosol, n95, aerosols, respirators, decontamination, airborne, machine  >#       Lift: elastomeric, forehead, papr, radiomics, exhaled, singing, 0.3m  >#       Score: learning, masks, aerosol, machine, respirators, n95, mask  ># Topic 11 Top Words: >#       Highest Prob: vaccine, vaccination, covid, middle, vaccines, dot, dose  >#       FREX: hesitancy, dot, vaccinate, middle, hesitant, rollout, ve  >#       Lift: #949850, acceptant, adjrr, aesis, amparo, analysesthe, andersen  >#       Score: vaccination, vaccine, dot, booster, dose, vaccinated, middle  ># Topic 12 Top Words: >#       Highest Prob: studies, care, covid, health, research, data, pandemic  >#       FREX: reviews, telemedicine, preprints, scoping, articles, blacksquare, publications  >#       Lift: preprints, 1.2m, aas, abbreviating, accustomed, activists, advisor  >#       Score: review, care, services, articles, reviews, pubmed, service  ># Topic 13 Top Words: >#       Highest Prob: sars, cov, genome, mutations, sequencing, viral, variants  >#       FREX: phylogenetic, gisaid, clades, wgs, genomes, genomic, haplotype  >#       Lift: clades, snvs, 1.1.7s, 11083g, 14408c, 17del, 20a  >#       Score: mutations, genome, wastewater, genomes, sequences, sequencing, genomic  ># Topic 14 Top Words: >#       Highest Prob: cells, cell, sars, cov, expression, infection, ace2  >#       FREX: autophagy, mirnas, mirna, at2, ifns, ciliated, scrna  >#       Lift: 25hc, angiotensinogen, antagonizes, apcs, arf6, asgr1, at2s  >#       Score: cells, expression, ace2, cell, genes, epithelial, tmprss2  ># Topic 15 Top Words: >#       Highest Prob: antibody, sars, cov, antibodies, igg, responses, vaccine  >#       FREX: iga, bau, igg, humoral, immunogenicity, as03, reactogenicity  >#       Lift: 1x1011, 28d, 30ug, ad26cov2, addas03, adhu5, atellica  >#       Score: igg, antibody, antibodies, neutralizing, rbd, vaccine, spike  ># Topic 16 Top Words: >#       Highest Prob: sars, cov, pcr, samples, rt, test, testing  >#       FREX: ag, rdt, rdts, lod, rt, panbio, kits  >#       Lift: poct, cobas, panbio, #yomecorono, 1.6x104, 10min, 15min  >#       Score: rt, pcr, assay, samples, saliva, detection, assays  ># Topic 17 Top Words: >#       Highest Prob: variants, omicron, variant, delta, ba, cov, sars  >#       FREX: omicron, ba, xbb, subvariants, delta, bq, voc  >#       Lift: 1.5s, 129s2, 1f11, 2.86s, 3b8, 417n, 75d30121c11061  >#       Score: omicron, ba, variants, variant, delta, mutations, voc  ># Topic 18 Top Words: >#       Highest Prob: covid, patients, disease, severe, immune, inflammatory, associated  >#       FREX: autoantibodies, ipf, balf, neutrophils, il, fibrosis, autoantibody  >#       Lift: 18f, 24hr, a2ar, aab, actinobacteria, activin, adiponectin  >#       Score: inflammatory, il, patients, cytokine, inflammation, cytokines, endothelial  ># Topic 19 Top Words: >#       Highest Prob: patients, treatment, covid, group, days, day, trial  >#       FREX: placebo, randomized, hcq, soc, azithromycin, arm, tocilizumab  >#       Lift: 200mg, 400mg, 500mg, 600mg, 800mg, aureobasidium, ayush  >#       Score: placebo, hcq, trial, patients, randomized, tocilizumab, hydroxychloroquine  ># Topic 20 Top Words: >#       Highest Prob: covid, symptoms, long, workers, infection, participants, study  >#       FREX: hcws, taste, smell, hcw, fatigue, workers, headache  >#       Lift: chemesthetic, dirty, eyewear, firefighters, ohs, principality, psychophysical  >#       Score: symptoms, hcws, workers, participants, symptom, hcw, fatigue"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"topic-document-and-term-topic-distributions","dir":"Articles","previous_headings":"Analysing and interpreting the topic model","what":"Topic-document and term-topic distributions","title":"Example 1: Topic modelling Covid preprints","text":"mentioned, topic model defined gamma (distribution topics words) beta (distribution terms topics) matrices. help tidytext package can extract dataframes detailed analysis. row following dataframe lists probability (gamma) given topic occurring given document2. Similarly, beta matrix (extracted dataframe) lists row probability (beta) given term occurring given topic. Starting beta matrix can create word clouds explore useful semantic labels topic.","code":"># Rows: 593,820 ># Columns: 3 ># $ document  [3m [38;5;246m<int> [39m [23m 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18… ># $ topic     [3m [38;5;246m<int> [39m [23m 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… ># $ gamma     [3m [38;5;246m<dbl> [39m [23m 0.001283143, 0.003547179, 0.003745510, 0.005495076, 0.0630417… ># Rows: 741,860 ># Columns: 3 ># $ topic  [3m [38;5;246m<int> [39m [23m 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 1… ># $ term   [3m [38;5;246m<chr> [39m [23m \"#1\", \"#1\", \"#1\", \"#1\", \"#1\", \"#1\", \"#1\", \"#1\", \"#1\", \"#1\", \"#1\"… ># $ beta   [3m [38;5;246m<dbl> [39m [23m 1.874650e-112, 2.519509e-119, 1.248970e-118, 6.665355e-160, 3.21…"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"understanding-and-labeling-topics","dir":"Articles","previous_headings":"Analysing and interpreting the topic model","what":"Understanding and labeling topics","title":"Example 1: Topic modelling Covid preprints","text":"mentioned previously stm can use word probabilities also compute FREX (frequent exclusive) words per topic. can retrieved stm::labelTopics() function, returns ordered lists different word sets characterizing topic. can combine information high probability FREX words create word clouds topic, might help assign summary label topic. Word clouds showing 50 probable terms per topic. Words scaled normalized probability per topic, terms also among top 20 FREX terms highlighted orange. readability, terms ‘sars’, ‘cov’ ‘covid’ removed occur high probability topics. review combination FREX high probability terms distinct topics emerging, : “epidemic models” (Topic 1), “vaccines” (Topic 11), “testing” (Topic 16), “virus variants” (Topic 17), “treatments” (Topic 2), “mortality risks” (Topic 3), “mental health” (Topic 4), “country-wise case reports” (Topic 8), “virus molecular structure” (Topic 9). Deriving semantic labels also benefit review sample documents representative certain topics, .e. topic model assigns high topic proportion given topic document. Furthermore, consistency assigned semantic labels checked prior analysis (see example oolong package systematic approach).","code":"library(tidyr) library(tibble)  # get the top FREX words frex_top20 <- as.data.frame(labelTopics(covid_model_K20, n = 20)$frex) %>%   rownames_to_column(var = \"topic\") %>%   pivot_longer(starts_with(\"V\"), values_to = \"term\") %>%   mutate(is_frex = 1) %>%   select(-name)  topic_words <- tidytext::tidy(covid_model_K20, matrix = \"beta\") %>%   #filter(!(term %in% c(\"sars\", \"cov\", \"covid\"))) %>%    mutate(topic = as.character(topic)) %>%   group_by(topic) %>%   arrange(-beta) %>%   slice_head(n = 50) %>%   mutate(beta_norm = (beta - min(beta)) / (max(beta) - min(beta))) %>%   ungroup() %>%   left_join(frex_top20, by = c(\"topic\", \"term\")) %>%   mutate(is_frex = ifelse(is.na(is_frex), \"0\", \"1\")) %>%   filter(!(term %in% c(\"sars\", \"cov\", \"covid\"))) %>%   mutate(topic = paste(\"Topic\", topic))  ggplot(topic_words, aes(label = term, size = beta_norm, color = is_frex)) +   ggwordcloud::geom_text_wordcloud_area(shape = \"square\",                                         family = \"Arial\",                                         rm_outside = TRUE) +   scale_radius(range = c(4, 15)) +   scale_color_manual(values = c(\"0\" = \"black\", \"1\" = \"#D55E00\")) +    facet_wrap(~topic, ncol = 4)"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"covariate-effects","dir":"Articles","previous_headings":"Analysing and interpreting the topic model","what":"Covariate effects","title":"Example 1: Topic modelling Covid preprints","text":"key feature STM incorporation document covariates topic model. example considered publication year preprint server covariates might influence prevalence topic document. also applied regression covariates fit model, extracted stm::estimateEffect(). first exploration can print regression tables selected topics. following sections illustrate exploration covariate effects several examples.","code":"summary(covid_effect_K20) >#  ># Call: ># estimateEffect(formula = 1:20 ~ server * s(year), stmobj = covid_model_K20,  >#     metadata = covid_stm_docs$meta) >#  >#  ># Topic 1: >#  ># Coefficients: >#                          Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.0235145  0.0036468   6.448 1.15e-10 *** ># servermedrxiv           0.1238896  0.0042913  28.870  < 2e-16 *** ># s(year)1               -0.0018965  0.0147130  -0.129    0.897     ># s(year)2               -0.0007526  0.0153278  -0.049    0.961     ># s(year)3                0.0083416  0.0066683   1.251    0.211     ># servermedrxiv:s(year)1 -0.0696377  0.0174562  -3.989 6.64e-05 *** ># servermedrxiv:s(year)2 -0.0965071  0.0189685  -5.088 3.65e-07 *** ># servermedrxiv:s(year)3 -0.0705248  0.0084587  -8.338  < 2e-16 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 2: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.098622   0.002871  34.356  < 2e-16 *** ># servermedrxiv          -0.085888   0.003119 -27.537  < 2e-16 *** ># s(year)1               -0.019989   0.011327  -1.765   0.0776 .   ># s(year)2               -0.011261   0.013453  -0.837   0.4026     ># s(year)3               -0.028608   0.004504  -6.352 2.16e-10 *** ># servermedrxiv:s(year)1  0.021566   0.012581   1.714   0.0865 .   ># servermedrxiv:s(year)2  0.008270   0.014456   0.572   0.5673     ># servermedrxiv:s(year)3  0.030396   0.005268   5.770 8.01e-09 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 3: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.011054   0.002835   3.899 9.69e-05 *** ># servermedrxiv           0.053971   0.003318  16.267  < 2e-16 *** ># s(year)1               -0.002553   0.011341  -0.225    0.822     ># s(year)2               -0.001917   0.011819  -0.162    0.871     ># s(year)3                0.001252   0.004882   0.256    0.798     ># servermedrxiv:s(year)1  0.014905   0.013706   1.087    0.277     ># servermedrxiv:s(year)2  0.014263   0.015011   0.950    0.342     ># servermedrxiv:s(year)3  0.029739   0.006511   4.567 4.96e-06 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 4: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.008887   0.003283   2.707  0.00680 **  ># servermedrxiv           0.057691   0.003809  15.145  < 2e-16 *** ># s(year)1                0.004659   0.013488   0.345  0.72975     ># s(year)2               -0.005167   0.013938  -0.371  0.71087     ># s(year)3                0.004434   0.005836   0.760  0.44740     ># servermedrxiv:s(year)1  0.020500   0.016490   1.243  0.21380     ># servermedrxiv:s(year)2 -0.004106   0.018063  -0.227  0.82017     ># servermedrxiv:s(year)3  0.020379   0.007740   2.633  0.00847 **  ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 5: >#  ># Coefficients: >#                          Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             4.932e-03  2.325e-03   2.122   0.0339 *   ># servermedrxiv           5.427e-02  2.770e-03  19.596   <2e-16 *** ># s(year)1               -7.396e-04  9.421e-03  -0.079   0.9374     ># s(year)2                3.209e-05  9.963e-03   0.003   0.9974     ># s(year)3                1.109e-03  4.121e-03   0.269   0.7879     ># servermedrxiv:s(year)1  2.608e-02  1.151e-02   2.266   0.0235 *   ># servermedrxiv:s(year)2 -1.729e-03  1.222e-02  -0.142   0.8875     ># servermedrxiv:s(year)3 -8.534e-03  5.326e-03  -1.602   0.1091     ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 6: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.148615   0.003869  38.416  < 2e-16 *** ># servermedrxiv          -0.115789   0.004217 -27.456  < 2e-16 *** ># s(year)1               -0.020911   0.013419  -1.558  0.11917     ># s(year)2               -0.049327   0.011998  -4.111 3.95e-05 *** ># s(year)3               -0.043737   0.006024  -7.260 3.95e-13 *** ># servermedrxiv:s(year)1  0.005714   0.015045   0.380  0.70409     ># servermedrxiv:s(year)2  0.035509   0.013661   2.599  0.00935 **  ># servermedrxiv:s(year)3  0.031034   0.006881   4.510 6.51e-06 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 7: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.010713   0.002932   3.654 0.000258 *** ># servermedrxiv           0.086003   0.003464  24.829  < 2e-16 *** ># s(year)1               -0.004091   0.011682  -0.350 0.726196     ># s(year)2               -0.007765   0.012309  -0.631 0.528149     ># s(year)3               -0.003410   0.005116  -0.666 0.505103     ># servermedrxiv:s(year)1 -0.049211   0.014483  -3.398 0.000680 *** ># servermedrxiv:s(year)2 -0.019694   0.015692  -1.255 0.209468     ># servermedrxiv:s(year)3 -0.038373   0.006459  -5.941 2.87e-09 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 8: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.027264   0.003076   8.864  < 2e-16 *** ># servermedrxiv           0.108725   0.003581  30.366  < 2e-16 *** ># s(year)1               -0.013079   0.012385  -1.056  0.29095     ># s(year)2               -0.018298   0.012477  -1.467  0.14251     ># s(year)3               -0.017127   0.005308  -3.226  0.00125 **  ># servermedrxiv:s(year)1 -0.088264   0.014856  -5.941 2.86e-09 *** ># servermedrxiv:s(year)2 -0.046685   0.015489  -3.014  0.00258 **  ># servermedrxiv:s(year)3 -0.060218   0.006612  -9.108  < 2e-16 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 9: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.170528   0.004581  37.228  < 2e-16 *** ># servermedrxiv          -0.163985   0.004796 -34.192  < 2e-16 *** ># s(year)1                0.017887   0.019149   0.934 0.350259     ># s(year)2               -0.034851   0.020118  -1.732 0.083225 .   ># s(year)3               -0.027980   0.006569  -4.260 2.05e-05 *** ># servermedrxiv:s(year)1 -0.010729   0.020244  -0.530 0.596105     ># servermedrxiv:s(year)2  0.033168   0.021855   1.518 0.129111     ># servermedrxiv:s(year)3  0.027886   0.007177   3.885 0.000102 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 10: >#  ># Coefficients: >#                          Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.0447134  0.0033315  13.421  < 2e-16 *** ># servermedrxiv           0.0117716  0.0036424   3.232  0.00123 **  ># s(year)1                0.0041293  0.0144429   0.286  0.77495     ># s(year)2                0.0003633  0.0131666   0.028  0.97799     ># s(year)3                0.0261815  0.0057785   4.531 5.90e-06 *** ># servermedrxiv:s(year)1 -0.0176692  0.0161519  -1.094  0.27399     ># servermedrxiv:s(year)2 -0.0305543  0.0153749  -1.987  0.04690 *   ># servermedrxiv:s(year)3 -0.0408898  0.0070264  -5.819 5.96e-09 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 11: >#  ># Coefficients: >#                        Estimate Std. Error t value Pr(>|t|)     ># (Intercept)            0.005069   0.002323   2.182  0.02913 *   ># servermedrxiv          0.008210   0.002659   3.088  0.00202 **  ># s(year)1               0.009980   0.009827   1.016  0.30986     ># s(year)2               0.010048   0.010133   0.992  0.32141     ># s(year)3               0.006401   0.004266   1.500  0.13352     ># servermedrxiv:s(year)1 0.057111   0.011601   4.923 8.58e-07 *** ># servermedrxiv:s(year)2 0.073684   0.012450   5.919 3.28e-09 *** ># servermedrxiv:s(year)3 0.047011   0.005841   8.048 8.69e-16 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 12: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.022002   0.002831   7.771 8.06e-15 *** ># servermedrxiv           0.041939   0.003384  12.393  < 2e-16 *** ># s(year)1               -0.008494   0.011388  -0.746    0.456     ># s(year)2               -0.005924   0.012225  -0.485    0.628     ># s(year)3               -0.002590   0.004857  -0.533    0.594     ># servermedrxiv:s(year)1 -0.006716   0.013944  -0.482    0.630     ># servermedrxiv:s(year)2  0.009592   0.015762   0.609    0.543     ># servermedrxiv:s(year)3  0.034836   0.006484   5.372 7.82e-08 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 13: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.104371   0.003113  33.523  < 2e-16 *** ># servermedrxiv          -0.086344   0.003404 -25.367  < 2e-16 *** ># s(year)1               -0.031658   0.015535  -2.038   0.0416 *   ># s(year)2               -0.027978   0.015209  -1.840   0.0658 .   ># s(year)3               -0.023254   0.005609  -4.146 3.40e-05 *** ># servermedrxiv:s(year)1  0.077862   0.018026   4.319 1.57e-05 *** ># servermedrxiv:s(year)2  0.028354   0.016956   1.672   0.0945 .   ># servermedrxiv:s(year)3  0.040982   0.006609   6.201 5.68e-10 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 14: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.124604   0.003448  36.136   <2e-16 *** ># servermedrxiv          -0.112728   0.003674 -30.684   <2e-16 *** ># s(year)1                0.004198   0.015161   0.277    0.782     ># s(year)2               -0.007639   0.015701  -0.487    0.627     ># s(year)3                0.007575   0.006291   1.204    0.229     ># servermedrxiv:s(year)1 -0.003074   0.016098  -0.191    0.849     ># servermedrxiv:s(year)2  0.005389   0.016773   0.321    0.748     ># servermedrxiv:s(year)3 -0.005134   0.007156  -0.717    0.473     ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 15: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.053503   0.003524  15.182  < 2e-16 *** ># servermedrxiv          -0.027432   0.003979  -6.894 5.53e-12 *** ># s(year)1                0.044424   0.014808   3.000  0.00270 **  ># s(year)2                0.024956   0.015543   1.606  0.10837     ># s(year)3                0.017688   0.006565   2.694  0.00706 **  ># servermedrxiv:s(year)1  0.003965   0.017407   0.228  0.81981     ># servermedrxiv:s(year)2  0.033417   0.017760   1.882  0.05990 .   ># servermedrxiv:s(year)3 -0.003348   0.007653  -0.438  0.66175     ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 16: >#  ># Coefficients: >#                          Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.0531640  0.0034768  15.291  < 2e-16 *** ># servermedrxiv           0.0176375  0.0040478   4.357 1.32e-05 *** ># s(year)1               -0.0493820  0.0129677  -3.808  0.00014 *** ># s(year)2               -0.0295363  0.0131170  -2.252  0.02434 *   ># s(year)3               -0.0278548  0.0057551  -4.840 1.30e-06 *** ># servermedrxiv:s(year)1  0.0607008  0.0150886   4.023 5.76e-05 *** ># servermedrxiv:s(year)2  0.0012550  0.0159756   0.079  0.93738     ># servermedrxiv:s(year)3 -0.0007303  0.0072866  -0.100  0.92017     ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 17: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.012547   0.002397   5.235 1.66e-07 *** ># servermedrxiv          -0.010887   0.002691  -4.046 5.23e-05 *** ># s(year)1                0.062523   0.011950   5.232 1.69e-07 *** ># s(year)2                0.167184   0.015919  10.502  < 2e-16 *** ># s(year)3                0.074722   0.005299  14.102  < 2e-16 *** ># servermedrxiv:s(year)1 -0.043596   0.013349  -3.266  0.00109 **  ># servermedrxiv:s(year)2 -0.080152   0.017779  -4.508 6.56e-06 *** ># servermedrxiv:s(year)3 -0.037914   0.006076  -6.240 4.45e-10 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 18: >#  ># Coefficients: >#                         Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.055694   0.003051  18.257  < 2e-16 *** ># servermedrxiv          -0.019911   0.003463  -5.749 9.06e-09 *** ># s(year)1                0.005374   0.011981   0.449  0.65379     ># s(year)2                0.004368   0.012754   0.343  0.73196     ># s(year)3                0.029407   0.005759   5.106 3.31e-07 *** ># servermedrxiv:s(year)1 -0.004323   0.014547  -0.297  0.76631     ># servermedrxiv:s(year)2 -0.004845   0.015366  -0.315  0.75252     ># servermedrxiv:s(year)3 -0.020652   0.006867  -3.007  0.00264 **  ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 19: >#  ># Coefficients: >#                          Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             0.0135566  0.0025831   5.248 1.55e-07 *** ># servermedrxiv           0.0273635  0.0030266   9.041  < 2e-16 *** ># s(year)1                0.0004964  0.0099689   0.050   0.9603     ># s(year)2               -0.0062235  0.0104198  -0.597   0.5503     ># s(year)3               -0.0030947  0.0043839  -0.706   0.4802     ># servermedrxiv:s(year)1 -0.0031292  0.0121748  -0.257   0.7972     ># servermedrxiv:s(year)2  0.0280799  0.0130530   2.151   0.0315 *   ># servermedrxiv:s(year)3  0.0027660  0.0057455   0.481   0.6302     ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 >#  >#  ># Topic 20: >#  ># Coefficients: >#                          Estimate Std. Error t value Pr(>|t|)     ># (Intercept)             6.749e-03  1.952e-03   3.458 0.000545 *** ># servermedrxiv           3.143e-02  2.221e-03  14.156  < 2e-16 *** ># s(year)1               -1.579e-03  7.666e-03  -0.206 0.836827     ># s(year)2               -9.136e-05  8.171e-03  -0.011 0.991080     ># s(year)3                4.210e-04  3.425e-03   0.123 0.902168     ># servermedrxiv:s(year)1  8.691e-03  9.562e-03   0.909 0.363428     ># servermedrxiv:s(year)2  1.293e-02  1.056e-02   1.224 0.220800     ># servermedrxiv:s(year)3  2.138e-02  4.656e-03   4.591 4.44e-06 *** ># --- ># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"publication-year","dir":"Articles","previous_headings":"Analysing and interpreting the topic model > Covariate effects","what":"Publication year","title":"Example 1: Topic modelling Covid preprints","text":"stm offers several built-methods explore covariate effects visually. visualization effect preprint publication year expected topic proportions confirm trends appear match intuitively different phases Covid-19 pandemic. Modelling spread infections (Topic 1) high relevance initially, declined later, applies (PCR-)testing (Topic 16), vaccines (Topic 11) received limited coverage earlier preprints, became important later years developed distributed.  Alternatively, stminsights package used extract regression information stm effects object create customized charts.","code":"plot(covid_effect_K20,      covariate = \"year\",      method = \"continuous\",      model = covid_model_K20,      topics = c(1, 16, 11),      xaxt = \"n\",      main = 'Effect of publication year on prevalence of Topic 1 (\"epidemic \\nmodels\"), Topic 16 (\"testing\") and Topic 11 (\"vaccines\")',      labeltype = \"prob\",      xlab = \"Publication year\") axis(1, at = c(\"2020\",\"2021\",\"2022\",\"2023\"), labels = c(2020, 2021, 2022, 2023)) library(stminsights)  year_effect <- get_effects(estimates = covid_effect_K20,                             variable = \"year\",                            type = \"continuous\")  year_effect %>%   mutate(topic = as.character(topic)) %>%   mutate(topic = paste(\"Topic\", topic)) %>%     ggplot(aes(x = value, y = proportion)) +       geom_line() +       geom_ribbon(aes(ymin = lower, ymax = upper),                    alpha = 0.2, linetype = 0)  +       xlab(\"Publication year\") +       ylab(\"Topic prevalence\") +       facet_wrap(~topic, ncol = 4) +       theme_minimal()"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"preprint-server","dir":"Articles","previous_headings":"Analysing and interpreting the topic model > Covariate effects","what":"Preprint server","title":"Example 1: Topic modelling Covid preprints","text":"model also incorporated preprint server (bioRxiv medRxiv) covariate. hypothesized prevalence certain topics influenced covariate, .e. likely see certain topics either bioRxiv medRxiv. STM interprets treatment (see (Roberts et al. 2014) background examples) can extract effect treatment regression object returned estimateEffect(). stm::plot() offers different methods explore effects. figure lists effect ‘treatment medrxiv’ topics model. treatment can positive negative effect. can example see Topic 4 (“mental health”) can expected higher prevalence medRxiv preprints, whereas Topic 9 (“virus molecular structure”) much lower prevalence medRxiv preprints, .e. expected higher prevalence bioRxiv preprints.  can also compare topical prevalence effect covariate values single topic. figure confirms previous observation Topic 9 (“virus molecular structure”) prevalence close zero medRxiv preprints prevalence approximately 0.17 bioRxiv preprints, .e. seems appear almost exclusively latter.","code":"plot(covid_effect_K20,       covariate = \"server\",      topics = c(9),      model = covid_model_K20,        method = \"pointestimate\",      xlab = \"Topical prevalence\",      xlim = c(-0.04, 0.2),      #labeltype = \"prob\",      main = \"Effect of preprint server covariate for Topic 9\")"},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"combination-of-preprint-server-and-publication-year","dir":"Articles","previous_headings":"Analysing and interpreting the topic model > Covariate effects","what":"Combination of preprint server and publication year","title":"Example 1: Topic modelling Covid preprints","text":"Finally, can also explore combined effect covariates; assumed interacting effect two covariates server year. plot visualizes Topic 17 (“virus variants”) illustrates topical prevalence increased throughout pandemic preprints topic apparently received coverage bioRxiv preprints.  , stminsights can used retrieve information create customized visualizations combined covariate effect.","code":"biorxiv_effect <- get_effects(covid_effect_K20,                               variable = \"year\", type = \"continuous\",                                moderator = \"server\", modval = \"biorxiv\")  medrxiv_effect <- get_effects(covid_effect_K20,                               variable = \"year\", type = \"continuous\",                                moderator = \"server\", modval = \"medrxiv\")  server_effects <- bind_rows(biorxiv_effect, medrxiv_effect)  server_effects %>%   mutate(topic = as.character(topic)) %>%   mutate(topic = paste(\"Topic\", topic)) %>%     ggplot(aes(x = value, y = proportion, color = moderator,                group = moderator, fill = moderator)) +       geom_line() +       geom_ribbon(aes(ymin = lower, ymax = upper,                        fill = moderator), alpha = 0.2, linetype = 0) +       xlab(\"Publication year\") +       ylab(\"Topic prevalence\") +       facet_wrap(~topic, ncol = 4) +       theme_minimal() +       theme(legend.position = \"bottom\")"},{"path":[]},{"path":"https://sdaume.github.io/srcquantcourse/articles/covid-preprint-topics.html","id":"topic-correlations","dir":"Articles","previous_headings":"Analysing and interpreting the topic model > Exploring the topic structure","what":"Topic correlations","title":"Example 1: Topic modelling Covid preprints","text":"Finally, considering STM extending (Roberts, Stewart, Tingley 2019) correlated topic model (Blei Lafferty 2007) may also explore topics frequently cooccuring. topic correlation matrix retrieved stm::topicCorr() can plotted. resulting figure indicates least two clusters topics.  correlation matrix can used analysis (e.g. networks clusters) alternative visualizations. outside scope example course module. illustration, following figure creates alternative network visualization, nodes colored according community analysis topical network, reveals four distinct topical clusters.","code":"covid_topic_correlations <- topicCorr(covid_model_K20)  plot(covid_topic_correlations)"},{"path":[]},{"path":"https://sdaume.github.io/srcquantcourse/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Stefan Daume. Author, maintainer.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Daume S (2024). srcquantcourse: Scripts Exercises SRC Quantitative Methods PhD Course. R package version 0.0.0.9000,  https://sdaume.github.io/srcquantcourse, https://sdaume.github.io/srcquantcourse/, https://github.com/sdaume/srcquantcourse.","code":"@Manual{,   title = {srcquantcourse: Scripts and Exercises for the SRC Quantitative Methods PhD Course},   author = {Stefan Daume},   year = {2024},   note = {R package version 0.0.0.9000,  https://sdaume.github.io/srcquantcourse, https://sdaume.github.io/srcquantcourse/},   url = {https://github.com/sdaume/srcquantcourse}, }"},{"path":"https://sdaume.github.io/srcquantcourse/index.html","id":"srcquantcourse","dir":"","previous_headings":"","what":"Scripts and Exercises for the SRC Quantitative Methods PhD Course","title":"Scripts and Exercises for the SRC Quantitative Methods PhD Course","text":"goal srcquantcourse provide sample analysis, replication scripts exercises data analysis module SRC Quantitative Methods PhD Course; part module concentrates probabilistic topic modelling.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Scripts and Exercises for the SRC Quantitative Methods PhD Course","text":"can install development version srcquantcourse GitHub : Alternatively, clone repo (https://github.com/sdaume/srcquantcourse) order work modify scripts.","code":"# install.packages(\"devtools\") devtools::install_github(\"sdaume/srcquantcourse\")"},{"path":"https://sdaume.github.io/srcquantcourse/index.html","id":"license-credits-and-acknowledgements","dir":"","previous_headings":"","what":"License, credits and acknowledgements","title":"Scripts and Exercises for the SRC Quantitative Methods PhD Course","text":"package shared MIT License. package relies several R packages listed package DESCRIPTION accompanying scripts. work packages’ authors hereby gratefully acknowledged. illustrate methods covered package preprint meta-data bioRxiv medRxiv used. preprint servers provide API access preprints explicitly intended support text mining; hereby gratefully acknowledged. actual preprints shared package, scripts utilizing medrxivr package provided obtain preprint data replicate results. package developed support education research Stockholm Resilience Centre; research benefited funding Swedish Research Council Sustainable Development (Formas).","code":""},{"path":"https://sdaume.github.io/srcquantcourse/index.html","id":"disclaimer","dir":"","previous_headings":"","what":"Disclaimer","title":"Scripts and Exercises for the SRC Quantitative Methods PhD Course","text":"package author(s) associated bioRxiv medRxiv. package developed reusable tool education author(s) research comes guarantee correctness results included package functions.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/reference/covid_effect_K20.html","id":null,"dir":"Reference","previous_headings":"","what":"An STM regression object for a topic model with 20 topics — covid_effect_K20","title":"An STM regression object for a topic model with 20 topics — covid_effect_K20","text":"package data set provides results applying stm::estimateEffect() function included covid_effect_K20 topic model object.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/reference/covid_effect_K20.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An STM regression object for a topic model with 20 topics — covid_effect_K20","text":"","code":"covid_effect_K20"},{"path":"https://sdaume.github.io/srcquantcourse/reference/covid_effect_K20.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An STM regression object for a topic model with 20 topics — covid_effect_K20","text":"STM regression object","code":""},{"path":"https://sdaume.github.io/srcquantcourse/reference/covid_model_K20.html","id":null,"dir":"Reference","previous_headings":"","what":"An STM topic model with 20 topics — covid_model_K20","title":"An STM topic model with 20 topics — covid_model_K20","text":"package data set provides sample STM topic model K = 20 topics (see stm::stm()). model fit bioRxiv medRxiv preprints 2020 2023 contain terms 'sars-cov' 'covid' title abstract. model fit respective preprint server publication year topic prevalence covariates. included covid_effect_K20 dataset captures regression parameters document covariates.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/reference/covid_model_K20.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An STM topic model with 20 topics — covid_model_K20","text":"","code":"covid_model_K20"},{"path":"https://sdaume.github.io/srcquantcourse/reference/covid_model_K20.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An STM topic model with 20 topics — covid_model_K20","text":"STM topic model object","code":""},{"path":"https://sdaume.github.io/srcquantcourse/reference/srcquantcourse-package.html","id":null,"dir":"Reference","previous_headings":"","what":"srcquantcourse: Scripts and Exercises for the SRC Quantitative Methods PhD Course — srcquantcourse-package","title":"srcquantcourse: Scripts and Exercises for the SRC Quantitative Methods PhD Course — srcquantcourse-package","text":"package collects scripts, data exercises notes 2024 SRC Quantitative Methods PhD course.","code":""},{"path":[]},{"path":"https://sdaume.github.io/srcquantcourse/reference/srcquantcourse-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"srcquantcourse: Scripts and Exercises for the SRC Quantitative Methods PhD Course — srcquantcourse-package","text":"Maintainer: Stefan Daume stefan.daume@su.se (ORCID)","code":""},{"path":"https://sdaume.github.io/srcquantcourse/reference/topicmodel_evaluations.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluation results for topic models with different K — topicmodel_evaluations","title":"Evaluation results for topic models with different K — topicmodel_evaluations","text":"convenience dataset include results evaluating topic models different topic numbers (K) thematic subsets bioRxiv medRxiv preprints. Scripts run actual evaluations included package repo.","code":""},{"path":"https://sdaume.github.io/srcquantcourse/reference/topicmodel_evaluations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluation results for topic models with different K — topicmodel_evaluations","text":"","code":"topicmodel_evaluations"},{"path":"https://sdaume.github.io/srcquantcourse/reference/topicmodel_evaluations.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Evaluation results for topic models with different K — topicmodel_evaluations","text":"dataframe four variables","code":""},{"path":"https://sdaume.github.io/srcquantcourse/reference/topicmodel_evaluations.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Evaluation results for topic models with different K — topicmodel_evaluations","text":"dataset specifies preprint subset, used K, type evaluation metric value metric.","code":""}]
