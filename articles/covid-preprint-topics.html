<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="srcquantcourse">
<title>Example 1: Topic modelling Covid preprints • srcquantcourse</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Example 1: Topic modelling Covid preprints">
<meta property="og:description" content="srcquantcourse">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">srcquantcourse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/covid-preprint-topics.html">Example 1: Topic modelling Covid preprints</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sdaume/srcquantcourse/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Example 1: Topic modelling Covid preprints</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sdaume/srcquantcourse/blob/HEAD/vignettes/covid-preprint-topics.Rmd" class="external-link"><code>vignettes/covid-preprint-topics.Rmd</code></a></small>
      <div class="d-none name"><code>covid-preprint-topics.Rmd</code></div>
    </div>

    
    
<style type="text/css">
.scroll-100 {
  max-height: 100px;
  overflow-y: auto;
  background-color: inherit;
}
</style>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This is an example topic modelling analysis using the <em>Structural
Topic Model (STM)</em> <span class="citation">(<a href="#ref-RobertsStewart_et_2019_JSTATS_91" role="doc-biblioref">Roberts, Stewart, and Tingley 2019</a>)</span> to
explore a subset of <a href="https://www.biorxiv.org/" class="external-link">bioRxiv</a> and
<a href="https://www.medrxiv.org/" class="external-link">medRxiv</a> preprints covering
research related to <em>Covid-19</em>. The medRxiv website actually
provides access to a dedicated collection of preprints on both medRxix
and bioRxiv covering <a href="(https://connect.medrxiv.org/relate/content/181)" class="external-link">COVID-19
SARS-CoV-2</a>. Here we will however work with the whole preprint
collection and create a subset using keyword matching.</p>
<p>This document assumes some familiarity with <em>Structural Topic
Modeling (STM)</em>. Please consult the <code>stm</code> package
vignette <span class="citation">(<a href="#ref-RobertsStewart_et_2019_JSTATS_91" role="doc-biblioref">Roberts, Stewart, and Tingley 2019</a>)</span> for
background.</p>
</div>
<div class="section level2">
<h2 id="getting-the-document-data">Getting the document data<a class="anchor" aria-label="anchor" href="#getting-the-document-data"></a>
</h2>
<p>The <a href="https://www.biorxiv.org/" class="external-link">bioRxiv</a> and <a href="https://www.medrxiv.org/" class="external-link">medRxiv</a> servers <a href="https://api.biorxiv.org/" class="external-link">provide API access</a> to retrieve
preprint meta-data. One option to access the API is to use the
<code>[medrxivr](https://docs.ropensci.org/medrxivr/)</code> package.
The code snippet below would for example collect all <em>bioRxiv</em>
preprint meta-data for the year 2015.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/medrxivr" class="external-link">medrxivr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">biorxiv_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/medrxivr/reference/mx_api_content.html" class="external-link">mx_api_content</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"biorxiv"</span>,</span>
<span>                              from_date <span class="op">=</span> <span class="st">"2015-12-01"</span>,</span>
<span>                              to_date <span class="op">=</span> <span class="st">"2015-12-31"</span><span class="op">)</span></span></code></pre></div>
<p>This package has been setup to support exploring different thematic
preprint subsets and assumes usage of all preprints from both servers
published from 2013 to 2023. This data can not be shared in this package
as the <a href="https://www.medrxiv.org/tdm" class="external-link">usage and API terms</a> of
<strong>bioRxiv/medRxiv do not permit redistribution and rehosting of
the complete data</strong>; therefore this package provides scripts to
collect and clean the data in order to replicate this analysis (check
<code>/data-raw</code> in the package repository).</p>
<p>The documented examples assume that you have obtained the data
yourself and created a local copy for replication of the analyses. Below
is the code that would allow you to do this. <strong>NOTE</strong> that
at the time of writing this returned a dataset with <em>365526</em>
records. Retrieving this data would take several hours. When replicating
an analysis like this <strong>use the bioRxiv/medRxiv API
responsibly</strong>. Consider collecting smaller datasets (the example
shown below would for example only require preprints from 2020 to 2023).
Alternatively, use the bulk snapshot as detailed <a href="https://www.medrxiv.org/tdm" class="external-link">here</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/medrxivr" class="external-link">medrxivr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># get publications from medRxiv and bioRxiv</span></span>
<span><span class="va">pubs_biorxiv_raw</span> <span class="op">&lt;-</span> <span class="fu">medrxivr</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/medrxivr/reference/mx_api_content.html" class="external-link">mx_api_content</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"biorxiv"</span>,</span>
<span>                                             <span class="co">#from_date = "2019-01-01",</span></span>
<span>                                             to_date <span class="op">=</span> <span class="st">"2023-12-31"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pubs_medrxiv_raw</span> <span class="op">&lt;-</span> <span class="fu">medrxivr</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/medrxivr/reference/mx_api_content.html" class="external-link">mx_api_content</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"medrxiv"</span>,</span>
<span>                                             <span class="co">#from_date = "2019-01-01",</span></span>
<span>                                             to_date <span class="op">=</span> <span class="st">"2023-12-31"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pubs_biorxiv_raw</span> <span class="op">&lt;-</span> <span class="va">pubs_biorxiv_raw</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"biorxiv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pubs_medrxiv_raw</span> <span class="op">&lt;-</span> <span class="va">pubs_medrxiv_raw</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"medrxiv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">preprints_raw</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">pubs_biorxiv_raw</span>, <span class="va">pubs_medrxiv_raw</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html" class="external-link">save</a></span><span class="op">(</span><span class="va">preprints_raw</span>, file <span class="op">=</span> <span class="st">"./data-raw/preprints_raw.Rdata"</span><span class="op">)</span></span></code></pre></div>
<p>In addition to the 15 meta-data variables returned via the API the
code above adds <code>server</code> as a variable to indicate the origin
of the preprint. This is an important variable for the examples shown
below.</p>
</div>
<div class="section level2">
<h2 id="cleaning-filtering-and-annotating-the-data">Cleaning, filtering and annotating the data<a class="anchor" aria-label="anchor" href="#cleaning-filtering-and-annotating-the-data"></a>
</h2>
<p>As a first step the raw preprint data has to be cleaned.
Specifically, we want to retain only one unique record per preprint,
multiple <code>version</code>s for each unique <code>doi</code> may
exist. Below we retain only the latest version per doi and also ensure
that there are no duplicate <code>doi</code>s. This is crucial as we
need a unique identifier for each document that we want to include in
the topic modelling.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">preprints_cleaned</span> <span class="op">&lt;-</span> <span class="va">preprints_raw</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">doi</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">version</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">version</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="va">doi</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Next we annotate the data with additional variables, specifically we
want to reduce the publication <code>date</code> to the publication
<code>year</code>, and add an additional variable
<code>is_published</code>, which is inferred from the
<code>published</code> variable. The latter provides the <em>DOI</em> of
the journal where the preprint has been published after peer review. We
also limit the data to preprints from 2020 to 2023 (for an analysis of
Covid topics preprints prior to 2020 are not relevant), and only retain
variables that we may want to explore as <em>document covariates</em>,
i.e. document propereties that potentially influence the prevalence of
topics.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">preprints</span> <span class="op">&lt;-</span> <span class="va">preprints_cleaned</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>published <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trim.html" class="external-link">str_trim</a></span><span class="op">(</span><span class="va">published</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>published <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/na_if.html" class="external-link">na_if</a></span><span class="op">(</span><span class="va">published</span>, <span class="st">"NA"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>is_published <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">published</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>is_published <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">is_published</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"published"</span>,</span>
<span>                                  <span class="va">is_published</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="st">"not published"</span>,</span>
<span>                                  <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"undefined"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">2020</span> <span class="op">&amp;</span> <span class="va">year</span> <span class="op">&lt;=</span> <span class="fl">2023</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">doi</span>, <span class="va">server</span>, <span class="va">title</span>, <span class="va">abstract</span>, <span class="va">date</span>, <span class="va">year</span>, <span class="va">version</span>, <span class="va">is_published</span><span class="op">)</span></span></code></pre></div>
<p>Finally, we define keywords and reduce our preprint set to preprints
that contain one of those keywords in either the title or abstract,
resulting in a subset of 29692 publications.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">keywords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sars-cov"</span>, <span class="st">"covid"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">search_pattern</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/modifiers.html" class="external-link">regex</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">keywords</span>, collapse <span class="op">=</span> <span class="st">"|"</span><span class="op">)</span>, </span>
<span>                                 ignore_case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_preprints</span> <span class="op">&lt;-</span> <span class="va">preprints</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">title</span>, pattern <span class="op">=</span> <span class="va">search_pattern</span><span class="op">)</span> <span class="op">|</span></span>
<span>           <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">abstract</span>, pattern <span class="op">=</span> <span class="va">search_pattern</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="preparing-and-preprocessing-the-documents-for-text-analysis">Preparing and preprocessing the documents for text analysis<a class="anchor" aria-label="anchor" href="#preparing-and-preprocessing-the-documents-for-text-analysis"></a>
</h2>
<p>In order to analyze the preprints with the <a href="https://github.com/bstewart/stm" class="external-link"><code>stm</code></a> package we
need to create a representation of the documents and document meta-data
that <code>stm</code> can utilize. <code>stm</code> offers built-in
methods to support this (see specifically the
<code><a href="https://rdrr.io/pkg/stm/man/textProcessor.html" class="external-link">textProcessor()</a></code> and <code><a href="https://rdrr.io/pkg/stm/man/prepDocuments.html" class="external-link">prepDocuments()</a></code> methods
<span class="citation">(<a href="#ref-RobertsStewart_et_2019_JSTATS_91" role="doc-biblioref">Roberts, Stewart, and Tingley 2019</a>)</span>).
Here we use instead the <a href="http://quanteda.io/index.html" class="external-link"><code>quanteda</code></a> package
<span class="citation">(<a href="#ref-BenoitWatanabe_et_2018_JOSS_3" role="doc-biblioref">Benoit et al. 2018</a>)</span> which provides a
broad range of methods for text pre-processing and analysis, creating
formats also supported by <code>stm</code>.</p>
<div class="section level3">
<h3 id="create-a-corpus">Create a corpus<a class="anchor" aria-label="anchor" href="#create-a-corpus"></a>
</h3>
<p>First, we create a <strong>corpus</strong> object from the dataframe
of preprints. The corpus is essentially a library of documents that will
be used for the next steps. It specifies which variable should be used
to uniquely identify documents and which variable holds the textual
content (here the preprint <em>abstracts</em>) that should be
processed.</p>
<p>Echoing the corpus will provide some basic information. All other
variables in the original dataframe will be interpreted and included as
document metadata (<em>‘docvars’</em>), which could later be included in
the STM topic modelling process.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">pubs_corpus</span> <span class="op">&lt;-</span> <span class="va">covid_preprints</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/corpus.html" class="external-link">corpus</a></span><span class="op">(</span>docid_field <span class="op">=</span> <span class="st">"doi"</span>, text_field <span class="op">=</span> <span class="st">"abstract"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># pubs_corpus</span></span>
<span><span class="co"># Corpus consisting of 29,692 documents and 6 docvars.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tokenize-and-preprocess">Tokenize and preprocess<a class="anchor" aria-label="anchor" href="#tokenize-and-preprocess"></a>
</h3>
<p>For further analysis the corpus documents have to be
<strong>tokenized</strong>, i.e. further processing the texts have to be
broken into semantic units that are relevant for our analysis. The most
common approach is to interpret each <em>word</em> (typically designated
by whitespaces or punctuation) as a token. This is applied here as well.
<code>quanteda</code> offers several alternative approaches. Instead of
individual words sequences of words (<em>n-grams</em>) could for example
be used.</p>
<p>The tokenization method also provides several options for
preprocessing and filtering the tokens. Here for example while
tokenizing we will simultaneously remove punctuation, numbers, special
symbols and URLs. Furthermore, we split words containing hyphens, a word
like <em>social-ecological</em> will thus be split into two individual
tokens (<em>social</em> and <em>ecological</em>).</p>
<p>The text preprocessing choices could strongly influence the results
of a text analysis <span class="citation">(<a href="#ref-DennySpirling_2018_PA_26" role="doc-biblioref">Denny and
Spirling 2018</a>)</span> and should be thouroughly explained, carefully
evaluated and ideally be based on theory.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pubs_tokens</span> <span class="op">&lt;-</span> <span class="va">pubs_corpus</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a></span><span class="op">(</span>remove_punct <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   remove_symbols <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   remove_numbers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   remove_url <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   remove_separators <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   split_hyphens <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="create-a-document-feature-matrix">Create a Document-feature matrix<a class="anchor" aria-label="anchor" href="#create-a-document-feature-matrix"></a>
</h3>
<p>The <strong>tokens</strong> object is then used to create a
<em>document-feature matrix</em>. For further statistical analysis this
reduces the tokens to a matrix of documents (rows) and unique
<strong>terms</strong> (columns) that counts the number of occurrences
for each term in each document. <code>quanteda</code> captures this as
<em>features</em> which supports more general options than
<strong>terms</strong> (see the <code>quanteda</code> documentation for
details).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pubs_dfm</span> <span class="op">&lt;-</span> <span class="va">pubs_tokens</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/dfm.html" class="external-link">dfm</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="filter-terms-and-documents">Filter terms and documents<a class="anchor" aria-label="anchor" href="#filter-terms-and-documents"></a>
</h3>
<p>This is followed by other (optional) processing and filtering steps.
A common option for example — to reduce the size of the data or assist
in the interpretation — is the removal of so-called
<strong>stopwords</strong> (e.g. <em>“the”, “and”, “or”</em> etc).</p>
<p>A step omitted here is reducing words (terms) to their word stem. The
stemming algorithm (several are available) reduces words to its word
stem. The terms “universal”, “university” and “universe” would for
example be reduced to the same word stem of “univers”; this example
indicates that this approach may require careful consideration.</p>
<p>Stemming has the advantage that it could potentially reduce the size
of the matrix substantially.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pubs_dfm</span> <span class="op">&lt;-</span> <span class="va">pubs_dfm</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/dfm_select.html" class="external-link">dfm_remove</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stopwords/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span><span class="st">"english"</span><span class="op">)</span><span class="op">)</span> <span class="co">#%&gt;%</span></span>
<span>  <span class="co">#quanteda::dfm_wordstem()</span></span></code></pre></div>
<pre><code># echo the result
&gt; pubs_dfm

Document-feature matrix of: 29,692 documents, 82,472 features (99.87% sparse) and 6 docvars.
                features
docs             nitric oxide synthesised three isoforms synthases viz nnos neurons enos
  10.1101/038398      6     6           1     1        1         1   1    1       2    1
  10.1101/058511      0     0           0     0        0         0   0    0       0    0
  10.1101/292979      0     0           0     2        0         0   0    0       0    0
  10.1101/402370      0     0           0     0        0         0   0    0       0    0
  10.1101/420737      0     0           0     0        0         0   0    0       0    0
  10.1101/596700      0     0           0     0        0         0   0    0       0    0
[ reached max_ndoc ... 29,686 more documents, reached max_nfeat ... 82,462 more features ]</code></pre>
<p>Further options may be considered to reduce noise and/or the size of
the matrix. The following code removes for example terms (or features)
that consist only of one character, terms that do not appear in at least
two different documents, and furthermore would remove documents that do
not contain at least 5 tokens. In our example this drops one document
and reduces the number of retained features by more than half.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pubs_dfm</span> <span class="op">&lt;-</span> <span class="va">pubs_dfm</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/dfm_select.html" class="external-link">dfm_remove</a></span><span class="op">(</span>min_nchar <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/dfm_trim.html" class="external-link">dfm_trim</a></span><span class="op">(</span>min_docfreq <span class="op">=</span> <span class="fl">2</span>, docfreq_type <span class="op">=</span> <span class="st">"count"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/dfm_subset.html" class="external-link">dfm_subset</a></span><span class="op">(</span><span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/ntoken.html" class="external-link">ntoken</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre><code># echo the result
&gt; pubs_dfm

Document-feature matrix of: 29,691 documents, 37,093 features (99.72% sparse) and 6 docvars.
                features
docs             nitric oxide synthesised three isoforms synthases viz neurons enos endothelial
  10.1101/038398      6     6           1     1        1         1   1       2    1           2
  10.1101/058511      0     0           0     0        0         0   0       0    0           0
  10.1101/292979      0     0           0     2        0         0   0       0    0           0
  10.1101/402370      0     0           0     0        0         0   0       0    0           0
  10.1101/420737      0     0           0     0        0         0   0       0    0           0
  10.1101/596700      0     0           0     0        0         0   0       0    0           0
[ reached max_ndoc ... 29,685 more documents, reached max_nfeat ... 37,083 more features ]</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="topic-modeling">Topic modeling<a class="anchor" aria-label="anchor" href="#topic-modeling"></a>
</h2>
<div class="section level3">
<h3 id="fitting-the-stm-topic-model">Fitting the STM topic model<a class="anchor" aria-label="anchor" href="#fitting-the-stm-topic-model"></a>
</h3>
<p>The key input is the number of topics (<code>K</code>) that the model
should be fit to, which we here set to 20 (see the separate document for
a discussion on suitable choices for the number of topics).</p>
<p>Before fitting the topic model we convert the document-feature matrix
into the native STM format. In order to fit a topic model with the
<code><a href="https://rdrr.io/pkg/stm/man/stm.html" class="external-link">stm()</a></code> function we need the set of <code>documents</code>,
the <code>vocabulary</code> of which these documents are composed and a
dataframe specifying the values of all document meta-data variables
(<code>data</code>) which can be used in the process as “covariates”
that might influence the prevalence of topics in a document.</p>
<p>Here, in the example below, we ask <code>stm</code> to consider the
origin of the document (<code>server</code>) and the publication
<code>year</code> when fitting the topic model. The argument
<code>prevalence = ~ server * s(year)</code> expresses that we assume
that the prevalence of topics in a document is influenced by these two
variables, and that they also interact, i.e. we work with the hypothesis
that different temporal trends could be expected for documents published
on either of the two preprint servers<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;NOTE we use the recommended spline function for the
&lt;code&gt;year&lt;/code&gt; variable. Consult the STM documentation for details on
this.&lt;/p&gt;"><sup>1</sup></a>.</p>
<p>The consideration of covariates is optional. If omitted the model
reduces to a <em>Correlated Topic Model</em> <span class="citation">(<a href="#ref-BleiLafferty2007_AAS_1" role="doc-biblioref">Blei and
Lafferty 2007</a>; <a href="#ref-RobertsStewart_et_2019_JSTATS_91" role="doc-biblioref">Roberts, Stewart, and Tingley 2019</a>)</span>.</p>
<p>We also supply a <code>seed</code>, which allows to replicate the
results of the topic modeling.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.structuraltopicmodel.com/" class="external-link">stm</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_stm_docs</span> <span class="op">&lt;-</span> <span class="fu">quanteda</span><span class="fu">::</span><span class="fu"><a href="https://quanteda.io/reference/convert.html" class="external-link">convert</a></span><span class="op">(</span><span class="va">pubs_dfm</span>, to <span class="op">=</span> <span class="st">"stm"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_model_K20</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/stm/man/stm.html" class="external-link">stm</a></span><span class="op">(</span>documents <span class="op">=</span> <span class="va">covid_stm_docs</span><span class="op">$</span><span class="va">documents</span>,</span>
<span>                       vocab <span class="op">=</span> <span class="va">covid_stm_docs</span><span class="op">$</span><span class="va">vocab</span>,</span>
<span>                       data <span class="op">=</span> <span class="va">covid_stm_docs</span><span class="op">$</span><span class="va">meta</span>,</span>
<span>                       prevalence <span class="op">=</span> <span class="op">~</span> <span class="va">server</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/pkg/stm/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>,</span>
<span>                       K <span class="op">=</span> <span class="fl">20</span>,</span>
<span>                       verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       seed <span class="op">=</span> <span class="fl">9868467</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="estimating-the-effect-of-document-covariates">Estimating the effect of document covariates<a class="anchor" aria-label="anchor" href="#estimating-the-effect-of-document-covariates"></a>
</h3>
<p>Once the model has converged we can estimate the effect of document
covariates on the topic prevalence. The <code><a href="https://rdrr.io/pkg/stm/man/estimateEffect.html" class="external-link">estimateEffect()</a></code>
function allows to run regressions based on the formula specified as the
first argument. It is here identical to the formula used when fitting
the topic model, and regressions are run for all 20 topics. The same
metadata as used previously needs to be supplied for this function in
addition to the topic model object.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid_effect_K20</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/stm/man/estimateEffect.html" class="external-link">estimateEffect</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span> <span class="op">~</span> <span class="va">server</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/pkg/stm/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>,</span>
<span>                                   stmobj <span class="op">=</span> <span class="va">covid_model_K20</span>,</span>
<span>                                   metadata <span class="op">=</span> <span class="va">covid_stm_docs</span><span class="op">$</span><span class="va">meta</span><span class="op">)</span></span></code></pre></div>
<p>This concludes fitting the model. The following sections step through
a sample exploration of this topic model.</p>
</div>
</div>
<div class="section level2">
<h2 id="analysing-and-interpreting-the-topic-model">Analysing and interpreting the topic model<a class="anchor" aria-label="anchor" href="#analysing-and-interpreting-the-topic-model"></a>
</h2>
<div class="section level3">
<h3 id="basic-topic-model-information">Basic topic model information<a class="anchor" aria-label="anchor" href="#basic-topic-model-information"></a>
</h3>
<p>The topic model is defined by two matrices that capture probability
distributions of topics over documents (<em>gamma</em> matrix) and words
(or terms) over topics (<em>beta</em> matrix). We can start exploring
these with some of the built-in functions of <code>stm</code>.</p>
<p>The <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function plots a chart showing topic
proportions for all topics in the model. A topic is identified by a
unique ID (1-20) and in the plot below the five words (or terms) that
have the highest probability of being associated with the given topic.
This gives an early indication of the distinct latent topics in the
analysed subset of preprints.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">covid_model_K20</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><img src="covid-preprint-topics_files/figure-html/unnamed-chunk-15-1.png" width="2000"></p>
<p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function provides a more detailed view of
the topics and can help to begin interpreting and labeling the 20
topics. Specifically, the output shows four different sets of words
associated with a topic. <em>‘Highest Prob’</em> lists the words that
have the highest probability of being associated with a topic. A
comparison of different topics highlights that a term such as
<em>covid</em> has a high probability for several topics. The list of
<em>‘FREX’</em> words summarizes words that are frequent and exclusive
in a topic, i.e. characterize a topic in comparison to other topics
(consult <code><a href="https://rdrr.io/pkg/stm/man/labelTopics.html" class="external-link">stm::labelTopics()</a></code> for details as well as
<em>Lift</em> and <em>Score</em> word sets).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(covid_model_K20)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="co"># A topic model with 20 topics, 29691 documents and a 37093 word dictionary.</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 1 Top Words:</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: model, can, covid, transmission, epidemic, data, disease </span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: npis, mathematical, compartmental, scenarios, seir, reproduction, sir </span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 1we, abms, ao_scplowbstractc_scplowas, apt, artefact, asilv, asymptotically </span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: distancing, social, epidemic, reproduction, npis, model, r0 </span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 2 Top Words:</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: cov, sars, drug, antiviral, activity, drugs, covid </span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: src, figdir, o_linksmallfig, c_fig, m_fig, o_fig, gif </span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: k777, gif, pmmov, wwtps, 13k, 17k, 18k </span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: mpro, antiviral, drug, inhibitors, protease, drugs, compounds </span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 3 Top Words:</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: covid, risk, age, mortality, ci, associated, years </span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: hispanic, ethnicity, pregnant, racial, black, smoking, preterm </span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 65s, asmr, assault, backgroundethnic, backgroundracial, backgroundsocio, brunt </span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: ci, age, women, mortality, ethnicity, aor, hispanic </span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 4 Top Words:</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: covid, health, pandemic, mental, social, study, survey </span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: loneliness, emotional, attitude, depression, insecurity, mental, anxiety </span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: insecurity, accelerometers, amhara, angry, anovas, asd, asleep </span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: mental, anxiety, depression, respondents, social, psychological, students </span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 5 Top Words:</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: sars, cov, infection, testing, transmission, cases, children </span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: ifr, seroprevalence, schools, school, contacts, household, attack </span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: inmates, 19y, 35y, 39y, 9a, abidjan, addscovid </span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: school, seroprevalence, children, schools, household, transmission, testing </span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 6 Top Words:</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: cov, sars, virus, viral, coronavirus, respiratory, infection </span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: bats, cats, deer, animals, covs, wildlife, hcov </span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: cats, 5x106, aav6, aegyptiacus, aethiops, affinis, agm </span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: cov, sars, mice, rna, viruses, coronaviruses, animals </span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 7 Top Words:</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: patients, covid, hospital, disease, clinical, severe, admission </span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: acei, admission, arbs, admitted, icu, aki, aceis </span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 1.1x109, 2020r1g1a1a01006229, 2l, 4.0x109, 40y, ahmad, ahrq </span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: patients, admission, icu, hospital, admitted, ci, hospitalized </span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 8 Top Words:</span></span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: covid, cases, countries, number, deaths, data, pandemic </span></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: cfr, italy, cities, country, countries, fatality, china </span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 1000m, 1th, 55th, abysmally, abyss, adhanom, adminstat </span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: countries, cases, lockdown, deaths, country, cfr, daily </span></span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 9 Top Words:</span></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: protein, binding, spike, sars, cov, ace2, rbd </span></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: conformational, cryo, conformation, glycans, conformations, nanobodies, residues </span></span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 13c, 6lzg, 6m0j, 6vw1, 6vxx, aabpu, abdab </span></span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: binding, rbd, protein, spike, ace2, proteins, epitopes </span></span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 10 Top Words:</span></span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: data, can, learning, covid, using, model, based </span></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: aerosol, n95, aerosols, respirators, decontamination, airborne, machine </span></span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: elastomeric, forehead, papr, radiomics, exhaled, singing, 0.3m </span></span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: learning, masks, aerosol, machine, respirators, n95, mask </span></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 11 Top Words:</span></span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: vaccine, vaccination, covid, middle, vaccines, dot, dose </span></span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: hesitancy, dot, vaccinate, middle, hesitant, rollout, ve </span></span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: #949850, acceptant, adjrr, aesis, amparo, analysesthe, andersen </span></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: vaccination, vaccine, dot, booster, dose, vaccinated, middle </span></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 12 Top Words:</span></span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: studies, care, covid, health, research, data, pandemic </span></span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: reviews, telemedicine, preprints, scoping, articles, blacksquare, publications </span></span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: preprints, 1.2m, aas, abbreviating, accustomed, activists, advisor </span></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: review, care, services, articles, reviews, pubmed, service </span></span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 13 Top Words:</span></span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: sars, cov, genome, mutations, sequencing, viral, variants </span></span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: phylogenetic, gisaid, clades, wgs, genomes, genomic, haplotype </span></span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: clades, snvs, 1.1.7s, 11083g, 14408c, 17del, 20a </span></span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: mutations, genome, wastewater, genomes, sequences, sequencing, genomic </span></span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 14 Top Words:</span></span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: cells, cell, sars, cov, expression, infection, ace2 </span></span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: autophagy, mirnas, mirna, at2, ifns, ciliated, scrna </span></span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 25hc, angiotensinogen, antagonizes, apcs, arf6, asgr1, at2s </span></span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: cells, expression, ace2, cell, genes, epithelial, tmprss2 </span></span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 15 Top Words:</span></span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: antibody, sars, cov, antibodies, igg, responses, vaccine </span></span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: iga, bau, igg, humoral, immunogenicity, as03, reactogenicity </span></span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 1x1011, 28d, 30ug, ad26cov2, addas03, adhu5, atellica </span></span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: igg, antibody, antibodies, neutralizing, rbd, vaccine, spike </span></span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 16 Top Words:</span></span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: sars, cov, pcr, samples, rt, test, testing </span></span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: ag, rdt, rdts, lod, rt, panbio, kits </span></span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: poct, cobas, panbio, #yomecorono, 1.6x104, 10min, 15min </span></span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: rt, pcr, assay, samples, saliva, detection, assays </span></span>
<span id="cb16-84"><a href="#cb16-84" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 17 Top Words:</span></span>
<span id="cb16-85"><a href="#cb16-85" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: variants, omicron, variant, delta, ba, cov, sars </span></span>
<span id="cb16-86"><a href="#cb16-86" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: omicron, ba, xbb, subvariants, delta, bq, voc </span></span>
<span id="cb16-87"><a href="#cb16-87" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 1.5s, 129s2, 1f11, 2.86s, 3b8, 417n, 75d30121c11061 </span></span>
<span id="cb16-88"><a href="#cb16-88" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: omicron, ba, variants, variant, delta, mutations, voc </span></span>
<span id="cb16-89"><a href="#cb16-89" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 18 Top Words:</span></span>
<span id="cb16-90"><a href="#cb16-90" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: covid, patients, disease, severe, immune, inflammatory, associated </span></span>
<span id="cb16-91"><a href="#cb16-91" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: autoantibodies, ipf, balf, neutrophils, il, fibrosis, autoantibody </span></span>
<span id="cb16-92"><a href="#cb16-92" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 18f, 24hr, a2ar, aab, actinobacteria, activin, adiponectin </span></span>
<span id="cb16-93"><a href="#cb16-93" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: inflammatory, il, patients, cytokine, inflammation, cytokines, endothelial </span></span>
<span id="cb16-94"><a href="#cb16-94" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 19 Top Words:</span></span>
<span id="cb16-95"><a href="#cb16-95" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: patients, treatment, covid, group, days, day, trial </span></span>
<span id="cb16-96"><a href="#cb16-96" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: placebo, randomized, hcq, soc, azithromycin, arm, tocilizumab </span></span>
<span id="cb16-97"><a href="#cb16-97" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: 200mg, 400mg, 500mg, 600mg, 800mg, aureobasidium, ayush </span></span>
<span id="cb16-98"><a href="#cb16-98" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: placebo, hcq, trial, patients, randomized, tocilizumab, hydroxychloroquine </span></span>
<span id="cb16-99"><a href="#cb16-99" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 20 Top Words:</span></span>
<span id="cb16-100"><a href="#cb16-100" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Highest Prob: covid, symptoms, long, workers, infection, participants, study </span></span>
<span id="cb16-101"><a href="#cb16-101" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       FREX: hcws, taste, smell, hcw, fatigue, workers, headache </span></span>
<span id="cb16-102"><a href="#cb16-102" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Lift: chemesthetic, dirty, eyewear, firefighters, ohs, principality, psychophysical </span></span>
<span id="cb16-103"><a href="#cb16-103" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#       Score: symptoms, hcws, workers, participants, symptom, hcw, fatigue</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="topic-document-and-term-topic-distributions">Topic-document and term-topic distributions<a class="anchor" aria-label="anchor" href="#topic-document-and-term-topic-distributions"></a>
</h3>
<p>As mentioned, the topic model is defined by the <em>gamma</em>
(distribution of topics over words) and <em>beta</em> (distribution of
terms over topics) matrices. With the help of the <code>tidytext</code>
package we can extract those into dataframes for a more detailed
analysis. Each row in the resulting dataframes lists the probability
(<code>gamma</code>) of a given <code>topic</code> occurring in a given
<code>document</code><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;NOTE that for each document a non-zero probability for
all topics is assigned.&lt;/p&gt;"><sup>2</sup></a>.</p>
<pre><code>&gt;# Rows: 593,820
&gt;# Columns: 3
&gt;# $ document  [3m [38;5;246m&lt;int&gt; [39m [23m 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…
&gt;# $ topic     [3m [38;5;246m&lt;int&gt; [39m [23m 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
&gt;# $ gamma     [3m [38;5;246m&lt;dbl&gt; [39m [23m 0.001283143, 0.003547179, 0.003745510, 0.005495076, 0.0630417…</code></pre>
<p>Similarly, the <em>beta</em> matrix (extracted into a dataframe)
lists for each row the probability (<code>beta</code>) of a given
<code>term</code> occurring in a given <code>topic</code>.</p>
<pre><code>&gt;# Rows: 741,860
&gt;# Columns: 3
&gt;# $ topic  [3m [38;5;246m&lt;int&gt; [39m [23m 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 1…
&gt;# $ term   [3m [38;5;246m&lt;chr&gt; [39m [23m "#1", "#1", "#1", "#1", "#1", "#1", "#1", "#1", "#1", "#1", "#1"…
&gt;# $ beta   [3m [38;5;246m&lt;dbl&gt; [39m [23m 1.874650e-112, 2.519509e-119, 1.248970e-118, 6.665355e-160, 3.21…</code></pre>
<p>Starting with the <em>beta</em> matrix we can create word clouds to
explore useful semantic labels for each topic.</p>
</div>
<div class="section level3">
<h3 id="understanding-and-labeling-topics">Understanding and labeling topics<a class="anchor" aria-label="anchor" href="#understanding-and-labeling-topics"></a>
</h3>
<p>As mentioned previously <code>stm</code> can use the word
probabilities to also compute <em>FREX</em> (frequent and exclusive)
words per topic. Those can be retrieved with the
<code><a href="https://rdrr.io/pkg/stm/man/labelTopics.html" class="external-link">stm::labelTopics()</a></code> function, which returns ordered lists of
the different word sets characterizing a topic. We can combine the
information about <em>high probability</em> and <em>FREX</em> words to
create word clouds for each topic, which might help to assign a summary
label for each topic.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># get the top FREX words</span></span>
<span><span class="va">frex_top20</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/stm/man/labelTopics.html" class="external-link">labelTopics</a></span><span class="op">(</span><span class="va">covid_model_K20</span>, n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">$</span><span class="va">frex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">rownames_to_column</a></span><span class="op">(</span>var <span class="op">=</span> <span class="st">"topic"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"V"</span><span class="op">)</span>, values_to <span class="op">=</span> <span class="st">"term"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>is_frex <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">name</span><span class="op">)</span></span>
<span></span>
<span><span class="va">topic_words</span> <span class="op">&lt;-</span> <span class="fu">tidytext</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">covid_model_K20</span>, matrix <span class="op">=</span> <span class="st">"beta"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co">#filter(!(term %in% c("sars", "cov", "covid"))) %&gt;% </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">topic</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">topic</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">beta</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>beta_norm <span class="op">=</span> <span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">frex_top20</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"topic"</span>, <span class="st">"term"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>is_frex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">is_frex</span><span class="op">)</span>, <span class="st">"0"</span>, <span class="st">"1"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="va">term</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sars"</span>, <span class="st">"cov"</span>, <span class="st">"covid"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Topic"</span>, <span class="va">topic</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">topic_words</span>, <span class="fu">aes</span><span class="op">(</span>label <span class="op">=</span> <span class="va">term</span>, size <span class="op">=</span> <span class="va">beta_norm</span>, color <span class="op">=</span> <span class="va">is_frex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggwordcloud</span><span class="fu">::</span><span class="fu"><a href="https://lepennec.github.io/ggwordcloud/reference/geom_text_wordcloud.html" class="external-link">geom_text_wordcloud_area</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="st">"square"</span>,</span>
<span>                                        rm_outside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_radius</span><span class="op">(</span>range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">13</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_color_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span> <span class="op">=</span> <span class="st">"black"</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"#D55E00"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">topic</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="covid-preprint-topics_files/figure-html/unnamed-chunk-19-1.png" alt="**Word clouds showing the 50 most probable terms per topic.** Words are scaled by normalized probability per topic, terms that are also among the top 20 *FREX* terms are highlighted in orange. For readability, the terms 'sars', 'cov' and 'covid' have been removed as they occur with high probability in most topics." width="864"><p class="caption">
<strong>Word clouds showing the 50 most probable terms per
topic.</strong> Words are scaled by normalized probability per topic,
terms that are also among the top 20 <em>FREX</em> terms are highlighted
in orange. For readability, the terms ‘sars’, ‘cov’ and ‘covid’ have
been removed as they occur with high probability in most topics.
</p>
</div>
<p>From the review of this combination of <em>FREX</em> and <em>high
probability</em> terms distinct topics are emerging, such as: “epidemic
models” (Topic 1), “vaccines” (Topic 11), “testing” (Topic 16), “virus
variants” (Topic 17), “treatments” (Topic 2), “mortality risks” (Topic
3), “mental health” (Topic 4), “country-wise case reports” (Topic 8),
“virus molecular structure” (Topic 9).</p>
</div>
<div class="section level3">
<h3 id="covariate-effects">Covariate effects<a class="anchor" aria-label="anchor" href="#covariate-effects"></a>
</h3>
<p>A key feature of STM is the incorporation of document covariates into
the topic model. In our example we considered the publication year and
the preprint server as covariates that might influence the prevalence of
a topic in a document. We also applied a regression for these covariates
to the fit model, which were extracted with
<code><a href="https://rdrr.io/pkg/stm/man/estimateEffect.html" class="external-link">stm::estimateEffect()</a></code>.</p>
<p>As a first exploration we can print the regression tables for all or
selected topics.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(covid_effect_K20)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="co"># </span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Call:</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># estimateEffect(formula = 1:20 ~ server * s(year), stmobj = covid_model_K20, </span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#     metadata = covid_stm_docs$meta)</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 1:</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                          Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.0234605  0.0037019   6.337 2.37e-10 ***</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.1239578  0.0042993  28.832  &lt; 2e-16 ***</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.0018735  0.0145897  -0.128    0.898    </span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.0008877  0.0153820  -0.058    0.954    </span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.0084582  0.0067620   1.251    0.211    </span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.0697073  0.0171601  -4.062 4.87e-05 ***</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 -0.0963660  0.0189718  -5.079 3.81e-07 ***</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.0706277  0.0084948  -8.314  &lt; 2e-16 ***</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 2:</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.098624   0.002871  34.350  &lt; 2e-16 ***</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          -0.085903   0.003145 -27.318  &lt; 2e-16 ***</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.019835   0.011344  -1.748   0.0804 .  </span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.011312   0.013528  -0.836   0.4031    </span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.028625   0.004545  -6.299 3.04e-10 ***</span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.021498   0.012602   1.706   0.0880 .  </span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.008334   0.014628   0.570   0.5689    </span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.030397   0.005332   5.701 1.20e-08 ***</span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 3:</span></span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.011074   0.002811   3.940 8.17e-05 ***</span></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.053958   0.003288  16.413  &lt; 2e-16 ***</span></span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.002474   0.011306  -0.219    0.827    </span></span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.002098   0.011868  -0.177    0.860    </span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.001251   0.004861   0.257    0.797    </span></span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.014900   0.013692   1.088    0.276    </span></span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.014370   0.015044   0.955    0.340    </span></span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.029775   0.006502   4.579 4.69e-06 ***</span></span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 4:</span></span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.008893   0.003299   2.695  0.00703 ** </span></span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.057685   0.003868  14.913  &lt; 2e-16 ***</span></span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1                0.004637   0.013445   0.345  0.73019    </span></span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.005242   0.014094  -0.372  0.70997    </span></span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.004555   0.005797   0.786  0.43206    </span></span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.020486   0.016465   1.244  0.21344    </span></span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 -0.003979   0.018070  -0.220  0.82573    </span></span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.020231   0.007652   2.644  0.00820 ** </span></span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 5:</span></span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                          Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.0049385  0.0023177   2.131   0.0331 *  </span></span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.0542640  0.0027655  19.622   &lt;2e-16 ***</span></span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.0007016  0.0093405  -0.075   0.9401    </span></span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2                0.0001238  0.0099220   0.012   0.9900    </span></span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.0011210  0.0041075   0.273   0.7849    </span></span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.0260389  0.0114866   2.267   0.0234 *  </span></span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 -0.0018066  0.0121668  -0.148   0.8820    </span></span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.0085430  0.0053452  -1.598   0.1100    </span></span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 6:</span></span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-91"><a href="#cb20-91" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-92"><a href="#cb20-92" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-93"><a href="#cb20-93" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.148605   0.003854  38.564  &lt; 2e-16 ***</span></span>
<span id="cb20-94"><a href="#cb20-94" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          -0.115790   0.004205 -27.535  &lt; 2e-16 ***</span></span>
<span id="cb20-95"><a href="#cb20-95" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.021048   0.013495  -1.560   0.1189    </span></span>
<span id="cb20-96"><a href="#cb20-96" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.049191   0.012117  -4.060 4.93e-05 ***</span></span>
<span id="cb20-97"><a href="#cb20-97" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.043725   0.006059  -7.217 5.46e-13 ***</span></span>
<span id="cb20-98"><a href="#cb20-98" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.005868   0.015087   0.389   0.6973    </span></span>
<span id="cb20-99"><a href="#cb20-99" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.035356   0.013822   2.558   0.0105 *  </span></span>
<span id="cb20-100"><a href="#cb20-100" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.031042   0.006954   4.464 8.09e-06 ***</span></span>
<span id="cb20-101"><a href="#cb20-101" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-102"><a href="#cb20-102" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-103"><a href="#cb20-103" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-104"><a href="#cb20-104" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-105"><a href="#cb20-105" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 7:</span></span>
<span id="cb20-106"><a href="#cb20-106" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-107"><a href="#cb20-107" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-108"><a href="#cb20-108" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-109"><a href="#cb20-109" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.010677   0.002907   3.673 0.000240 ***</span></span>
<span id="cb20-110"><a href="#cb20-110" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.086044   0.003450  24.939  &lt; 2e-16 ***</span></span>
<span id="cb20-111"><a href="#cb20-111" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.004038   0.011544  -0.350 0.726472    </span></span>
<span id="cb20-112"><a href="#cb20-112" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.007739   0.012172  -0.636 0.524943    </span></span>
<span id="cb20-113"><a href="#cb20-113" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.003382   0.005210  -0.649 0.516205    </span></span>
<span id="cb20-114"><a href="#cb20-114" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.049318   0.014424  -3.419 0.000629 ***</span></span>
<span id="cb20-115"><a href="#cb20-115" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 -0.019710   0.015634  -1.261 0.207414    </span></span>
<span id="cb20-116"><a href="#cb20-116" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.038377   0.006564  -5.847 5.07e-09 ***</span></span>
<span id="cb20-117"><a href="#cb20-117" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-118"><a href="#cb20-118" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-119"><a href="#cb20-119" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-120"><a href="#cb20-120" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-121"><a href="#cb20-121" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 8:</span></span>
<span id="cb20-122"><a href="#cb20-122" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-123"><a href="#cb20-123" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-124"><a href="#cb20-124" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-125"><a href="#cb20-125" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.027272   0.003021   9.027  &lt; 2e-16 ***</span></span>
<span id="cb20-126"><a href="#cb20-126" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.108688   0.003550  30.618  &lt; 2e-16 ***</span></span>
<span id="cb20-127"><a href="#cb20-127" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.012922   0.012290  -1.051   0.2931    </span></span>
<span id="cb20-128"><a href="#cb20-128" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.018360   0.012619  -1.455   0.1457    </span></span>
<span id="cb20-129"><a href="#cb20-129" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.017071   0.005230  -3.264   0.0011 ** </span></span>
<span id="cb20-130"><a href="#cb20-130" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.088429   0.014746  -5.997 2.04e-09 ***</span></span>
<span id="cb20-131"><a href="#cb20-131" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 -0.046570   0.015578  -2.990   0.0028 ** </span></span>
<span id="cb20-132"><a href="#cb20-132" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.060233   0.006547  -9.200  &lt; 2e-16 ***</span></span>
<span id="cb20-133"><a href="#cb20-133" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-134"><a href="#cb20-134" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-135"><a href="#cb20-135" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-136"><a href="#cb20-136" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-137"><a href="#cb20-137" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 9:</span></span>
<span id="cb20-138"><a href="#cb20-138" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-139"><a href="#cb20-139" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-140"><a href="#cb20-140" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-141"><a href="#cb20-141" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.170527   0.004545  37.516  &lt; 2e-16 ***</span></span>
<span id="cb20-142"><a href="#cb20-142" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          -0.163996   0.004760 -34.455  &lt; 2e-16 ***</span></span>
<span id="cb20-143"><a href="#cb20-143" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1                0.017953   0.019105   0.940   0.3474    </span></span>
<span id="cb20-144"><a href="#cb20-144" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.034770   0.020089  -1.731   0.0835 .  </span></span>
<span id="cb20-145"><a href="#cb20-145" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.028047   0.006502  -4.314 1.61e-05 ***</span></span>
<span id="cb20-146"><a href="#cb20-146" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.010864   0.020221  -0.537   0.5911    </span></span>
<span id="cb20-147"><a href="#cb20-147" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.033135   0.021833   1.518   0.1291    </span></span>
<span id="cb20-148"><a href="#cb20-148" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.027959   0.007117   3.928 8.57e-05 ***</span></span>
<span id="cb20-149"><a href="#cb20-149" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-150"><a href="#cb20-150" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-151"><a href="#cb20-151" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-152"><a href="#cb20-152" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-153"><a href="#cb20-153" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 10:</span></span>
<span id="cb20-154"><a href="#cb20-154" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-155"><a href="#cb20-155" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-156"><a href="#cb20-156" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                          Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-157"><a href="#cb20-157" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.0447096  0.0033535  13.332  &lt; 2e-16 ***</span></span>
<span id="cb20-158"><a href="#cb20-158" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.0117778  0.0036268   3.247  0.00117 ** </span></span>
<span id="cb20-159"><a href="#cb20-159" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1                0.0043102  0.0147825   0.292  0.77061    </span></span>
<span id="cb20-160"><a href="#cb20-160" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2                0.0002448  0.0133106   0.018  0.98533    </span></span>
<span id="cb20-161"><a href="#cb20-161" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.0261446  0.0058842   4.443 8.90e-06 ***</span></span>
<span id="cb20-162"><a href="#cb20-162" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.0177660  0.0164637  -1.079  0.28055    </span></span>
<span id="cb20-163"><a href="#cb20-163" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 -0.0304927  0.0154783  -1.970  0.04884 *  </span></span>
<span id="cb20-164"><a href="#cb20-164" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.0409105  0.0070418  -5.810 6.32e-09 ***</span></span>
<span id="cb20-165"><a href="#cb20-165" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-166"><a href="#cb20-166" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-167"><a href="#cb20-167" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-168"><a href="#cb20-168" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-169"><a href="#cb20-169" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 11:</span></span>
<span id="cb20-170"><a href="#cb20-170" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-171"><a href="#cb20-171" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-172"><a href="#cb20-172" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                        Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-173"><a href="#cb20-173" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)            0.005062   0.002367   2.139  0.03245 *  </span></span>
<span id="cb20-174"><a href="#cb20-174" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          0.008198   0.002717   3.017  0.00255 ** </span></span>
<span id="cb20-175"><a href="#cb20-175" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               0.009899   0.009890   1.001  0.31689    </span></span>
<span id="cb20-176"><a href="#cb20-176" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               0.010132   0.010158   0.997  0.31854    </span></span>
<span id="cb20-177"><a href="#cb20-177" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               0.006409   0.004251   1.507  0.13170    </span></span>
<span id="cb20-178"><a href="#cb20-178" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 0.057273   0.011691   4.899 9.70e-07 ***</span></span>
<span id="cb20-179"><a href="#cb20-179" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 0.073539   0.012530   5.869 4.43e-09 ***</span></span>
<span id="cb20-180"><a href="#cb20-180" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 0.047024   0.005974   7.871 3.65e-15 ***</span></span>
<span id="cb20-181"><a href="#cb20-181" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-182"><a href="#cb20-182" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-183"><a href="#cb20-183" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-184"><a href="#cb20-184" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-185"><a href="#cb20-185" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 12:</span></span>
<span id="cb20-186"><a href="#cb20-186" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-187"><a href="#cb20-187" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-188"><a href="#cb20-188" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-189"><a href="#cb20-189" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.022017   0.002811   7.832 4.97e-15 ***</span></span>
<span id="cb20-190"><a href="#cb20-190" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.041921   0.003398  12.336  &lt; 2e-16 ***</span></span>
<span id="cb20-191"><a href="#cb20-191" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.008613   0.011213  -0.768    0.442    </span></span>
<span id="cb20-192"><a href="#cb20-192" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.005854   0.012263  -0.477    0.633    </span></span>
<span id="cb20-193"><a href="#cb20-193" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.002612   0.004885  -0.535    0.593    </span></span>
<span id="cb20-194"><a href="#cb20-194" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.006723   0.013737  -0.489    0.625    </span></span>
<span id="cb20-195"><a href="#cb20-195" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.009702   0.015766   0.615    0.538    </span></span>
<span id="cb20-196"><a href="#cb20-196" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.034822   0.006465   5.386 7.24e-08 ***</span></span>
<span id="cb20-197"><a href="#cb20-197" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-198"><a href="#cb20-198" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-199"><a href="#cb20-199" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-200"><a href="#cb20-200" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-201"><a href="#cb20-201" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 13:</span></span>
<span id="cb20-202"><a href="#cb20-202" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-203"><a href="#cb20-203" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-204"><a href="#cb20-204" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-205"><a href="#cb20-205" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.104412   0.003107  33.601  &lt; 2e-16 ***</span></span>
<span id="cb20-206"><a href="#cb20-206" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          -0.086393   0.003407 -25.355  &lt; 2e-16 ***</span></span>
<span id="cb20-207"><a href="#cb20-207" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.031674   0.015358  -2.062   0.0392 *  </span></span>
<span id="cb20-208"><a href="#cb20-208" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.028021   0.015130  -1.852   0.0640 .  </span></span>
<span id="cb20-209"><a href="#cb20-209" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.023408   0.005515  -4.244 2.20e-05 ***</span></span>
<span id="cb20-210"><a href="#cb20-210" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.077922   0.017910   4.351 1.36e-05 ***</span></span>
<span id="cb20-211"><a href="#cb20-211" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.028335   0.017072   1.660   0.0970 .  </span></span>
<span id="cb20-212"><a href="#cb20-212" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.041167   0.006539   6.295 3.11e-10 ***</span></span>
<span id="cb20-213"><a href="#cb20-213" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-214"><a href="#cb20-214" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-215"><a href="#cb20-215" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-216"><a href="#cb20-216" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-217"><a href="#cb20-217" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 14:</span></span>
<span id="cb20-218"><a href="#cb20-218" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-219"><a href="#cb20-219" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-220"><a href="#cb20-220" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-221"><a href="#cb20-221" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.124581   0.003410  36.534   &lt;2e-16 ***</span></span>
<span id="cb20-222"><a href="#cb20-222" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          -0.112710   0.003626 -31.081   &lt;2e-16 ***</span></span>
<span id="cb20-223"><a href="#cb20-223" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1                0.004229   0.014989   0.282    0.778    </span></span>
<span id="cb20-224"><a href="#cb20-224" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.007425   0.015588  -0.476    0.634    </span></span>
<span id="cb20-225"><a href="#cb20-225" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.007574   0.006362   1.191    0.234    </span></span>
<span id="cb20-226"><a href="#cb20-226" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.003148   0.015880  -0.198    0.843    </span></span>
<span id="cb20-227"><a href="#cb20-227" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.005223   0.016612   0.314    0.753    </span></span>
<span id="cb20-228"><a href="#cb20-228" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.005087   0.007153  -0.711    0.477    </span></span>
<span id="cb20-229"><a href="#cb20-229" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-230"><a href="#cb20-230" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-231"><a href="#cb20-231" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-232"><a href="#cb20-232" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-233"><a href="#cb20-233" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 15:</span></span>
<span id="cb20-234"><a href="#cb20-234" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-235"><a href="#cb20-235" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-236"><a href="#cb20-236" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-237"><a href="#cb20-237" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.053531   0.003502  15.284  &lt; 2e-16 ***</span></span>
<span id="cb20-238"><a href="#cb20-238" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          -0.027444   0.003946  -6.955 3.61e-12 ***</span></span>
<span id="cb20-239"><a href="#cb20-239" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1                0.044463   0.014638   3.037  0.00239 ** </span></span>
<span id="cb20-240"><a href="#cb20-240" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2                0.024871   0.015421   1.613  0.10681    </span></span>
<span id="cb20-241"><a href="#cb20-241" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.017655   0.006518   2.709  0.00676 ** </span></span>
<span id="cb20-242"><a href="#cb20-242" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.003860   0.017058   0.226  0.82099    </span></span>
<span id="cb20-243"><a href="#cb20-243" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.033543   0.017578   1.908  0.05637 .  </span></span>
<span id="cb20-244"><a href="#cb20-244" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.003318   0.007639  -0.434  0.66400    </span></span>
<span id="cb20-245"><a href="#cb20-245" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-246"><a href="#cb20-246" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-247"><a href="#cb20-247" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-248"><a href="#cb20-248" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-249"><a href="#cb20-249" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 16:</span></span>
<span id="cb20-250"><a href="#cb20-250" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-251"><a href="#cb20-251" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-252"><a href="#cb20-252" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                          Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-253"><a href="#cb20-253" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.0531714  0.0034882  15.243  &lt; 2e-16 ***</span></span>
<span id="cb20-254"><a href="#cb20-254" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.0176274  0.0040715   4.329 1.50e-05 ***</span></span>
<span id="cb20-255"><a href="#cb20-255" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.0493432  0.0131508  -3.752 0.000176 ***</span></span>
<span id="cb20-256"><a href="#cb20-256" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.0295999  0.0133133  -2.223 0.026201 *  </span></span>
<span id="cb20-257"><a href="#cb20-257" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.0279393  0.0057790  -4.835 1.34e-06 ***</span></span>
<span id="cb20-258"><a href="#cb20-258" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.0605405  0.0152189   3.978 6.97e-05 ***</span></span>
<span id="cb20-259"><a href="#cb20-259" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.0014992  0.0160602   0.093 0.925626    </span></span>
<span id="cb20-260"><a href="#cb20-260" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.0007199  0.0072441  -0.099 0.920837    </span></span>
<span id="cb20-261"><a href="#cb20-261" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-262"><a href="#cb20-262" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-263"><a href="#cb20-263" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-264"><a href="#cb20-264" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-265"><a href="#cb20-265" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 17:</span></span>
<span id="cb20-266"><a href="#cb20-266" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-267"><a href="#cb20-267" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-268"><a href="#cb20-268" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-269"><a href="#cb20-269" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.012530   0.002393   5.235 1.66e-07 ***</span></span>
<span id="cb20-270"><a href="#cb20-270" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          -0.010851   0.002691  -4.033 5.52e-05 ***</span></span>
<span id="cb20-271"><a href="#cb20-271" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1                0.062593   0.011909   5.256 1.48e-07 ***</span></span>
<span id="cb20-272"><a href="#cb20-272" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2                0.167177   0.016034  10.426  &lt; 2e-16 ***</span></span>
<span id="cb20-273"><a href="#cb20-273" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.074769   0.005322  14.049  &lt; 2e-16 ***</span></span>
<span id="cb20-274"><a href="#cb20-274" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.043738   0.013347  -3.277  0.00105 ** </span></span>
<span id="cb20-275"><a href="#cb20-275" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 -0.080114   0.018004  -4.450 8.63e-06 ***</span></span>
<span id="cb20-276"><a href="#cb20-276" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.037941   0.006102  -6.218 5.11e-10 ***</span></span>
<span id="cb20-277"><a href="#cb20-277" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-278"><a href="#cb20-278" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-279"><a href="#cb20-279" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-280"><a href="#cb20-280" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-281"><a href="#cb20-281" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 18:</span></span>
<span id="cb20-282"><a href="#cb20-282" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-283"><a href="#cb20-283" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-284"><a href="#cb20-284" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                         Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-285"><a href="#cb20-285" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.055686   0.003048  18.267  &lt; 2e-16 ***</span></span>
<span id="cb20-286"><a href="#cb20-286" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv          -0.019927   0.003474  -5.736 9.79e-09 ***</span></span>
<span id="cb20-287"><a href="#cb20-287" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1                0.005592   0.011978   0.467  0.64061    </span></span>
<span id="cb20-288"><a href="#cb20-288" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2                0.004182   0.012785   0.327  0.74358    </span></span>
<span id="cb20-289"><a href="#cb20-289" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.029381   0.005787   5.077 3.85e-07 ***</span></span>
<span id="cb20-290"><a href="#cb20-290" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.004411   0.014594  -0.302  0.76248    </span></span>
<span id="cb20-291"><a href="#cb20-291" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2 -0.004765   0.015445  -0.309  0.75766    </span></span>
<span id="cb20-292"><a href="#cb20-292" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3 -0.020611   0.006877  -2.997  0.00273 ** </span></span>
<span id="cb20-293"><a href="#cb20-293" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-294"><a href="#cb20-294" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-295"><a href="#cb20-295" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-296"><a href="#cb20-296" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-297"><a href="#cb20-297" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 19:</span></span>
<span id="cb20-298"><a href="#cb20-298" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-299"><a href="#cb20-299" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-300"><a href="#cb20-300" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                          Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-301"><a href="#cb20-301" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.0135576  0.0025930   5.228 1.72e-07 ***</span></span>
<span id="cb20-302"><a href="#cb20-302" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.0273500  0.0030121   9.080  &lt; 2e-16 ***</span></span>
<span id="cb20-303"><a href="#cb20-303" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1                0.0005352  0.0100509   0.053   0.9575    </span></span>
<span id="cb20-304"><a href="#cb20-304" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.0063864  0.0106321  -0.601   0.5481    </span></span>
<span id="cb20-305"><a href="#cb20-305" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3               -0.0030739  0.0043585  -0.705   0.4807    </span></span>
<span id="cb20-306"><a href="#cb20-306" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1 -0.0032109  0.0122624  -0.262   0.7934    </span></span>
<span id="cb20-307"><a href="#cb20-307" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.0283153  0.0132698   2.134   0.0329 *  </span></span>
<span id="cb20-308"><a href="#cb20-308" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.0027457  0.0056873   0.483   0.6293    </span></span>
<span id="cb20-309"><a href="#cb20-309" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-310"><a href="#cb20-310" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb20-311"><a href="#cb20-311" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-312"><a href="#cb20-312" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-313"><a href="#cb20-313" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Topic 20:</span></span>
<span id="cb20-314"><a href="#cb20-314" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># </span></span>
<span id="cb20-315"><a href="#cb20-315" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Coefficients:</span></span>
<span id="cb20-316"><a href="#cb20-316" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co">#                          Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb20-317"><a href="#cb20-317" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># (Intercept)             0.0067421  0.0019581   3.443 0.000576 ***</span></span>
<span id="cb20-318"><a href="#cb20-318" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv           0.0314279  0.0022217  14.146  &lt; 2e-16 ***</span></span>
<span id="cb20-319"><a href="#cb20-319" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)1               -0.0015387  0.0077824  -0.198 0.843271    </span></span>
<span id="cb20-320"><a href="#cb20-320" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)2               -0.0001033  0.0081895  -0.013 0.989935    </span></span>
<span id="cb20-321"><a href="#cb20-321" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># s(year)3                0.0005135  0.0034321   0.150 0.881056    </span></span>
<span id="cb20-322"><a href="#cb20-322" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)1  0.0087091  0.0096377   0.904 0.366190    </span></span>
<span id="cb20-323"><a href="#cb20-323" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)2  0.0129089  0.0106664   1.210 0.226196    </span></span>
<span id="cb20-324"><a href="#cb20-324" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># servermedrxiv:s(year)3  0.0212821  0.0046139   4.613 3.99e-06 ***</span></span>
<span id="cb20-325"><a href="#cb20-325" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># ---</span></span>
<span id="cb20-326"><a href="#cb20-326" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span><span class="co"># Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
<p>The following sections illustrate the exploration of covariate
effects with several examples.</p>
<div class="section level4">
<h4 id="publication-year">Publication year<a class="anchor" aria-label="anchor" href="#publication-year"></a>
</h4>
<p><code>stm</code> offers several built-in methods to explore the
covariate effects visually.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">covid_effect_K20</span>,</span>
<span>     covariate <span class="op">=</span> <span class="st">"year"</span>,</span>
<span>     method <span class="op">=</span> <span class="st">"continuous"</span>,</span>
<span>     model <span class="op">=</span> <span class="va">covid_model_K20</span>,</span>
<span>     topics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">16</span>, <span class="fl">11</span><span class="op">)</span>,</span>
<span>     xaxt <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>     main <span class="op">=</span> <span class="st">'Effect of publication year on prevalence of Topic 1 ("epidemic \nmodels"), Topic 16 ("testing") and Topic 11 ("vaccines")'</span>,</span>
<span>     labeltype <span class="op">=</span> <span class="st">"prob"</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Publication year"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></span><span class="op">(</span><span class="fl">1</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2020"</span>,<span class="st">"2021"</span>,<span class="st">"2022"</span>,<span class="st">"2023"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020</span>, <span class="fl">2021</span>, <span class="fl">2022</span>, <span class="fl">2023</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="covid-preprint-topics_files/figure-html/unnamed-chunk-21-1.png" width="672">
The visualization of the effect of preprint <em>publication year</em> on
<em>expected topic proportions</em> confirm some trends that appear to
match intuitively with different phases of the Covid-19 pandemic.
Modelling the spread of infections (Topic 1) had a high relevance
initially, but declined later, the same applies to (PCR-)testing (Topic
16), while vaccines (Topic 11) received limited coverage in earlier
preprints, but became more important in later years.</p>
<p>Alternatively, the <code>stminsights</code> package could be used to
extract effects and create customized charts.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cschwem2er/stminsights" class="external-link">stminsights</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">year_effect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/stminsights/man/get_effects.html" class="external-link">get_effects</a></span><span class="op">(</span>estimates <span class="op">=</span> <span class="va">covid_effect_K20</span>, </span>
<span>                           variable <span class="op">=</span> <span class="st">"year"</span>,</span>
<span>                           type <span class="op">=</span> <span class="st">"continuous"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">year_effect</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">topic</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Topic"</span>, <span class="va">topic</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">value</span>, y <span class="op">=</span> <span class="va">proportion</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_ribbon</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">lower</span>, ymax <span class="op">=</span> <span class="va">upper</span><span class="op">)</span>, </span>
<span>                  alpha <span class="op">=</span> <span class="fl">0.2</span>, linetype <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>  <span class="op">+</span></span>
<span>      <span class="fu">xlab</span><span class="op">(</span><span class="st">"Publication year"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">ylab</span><span class="op">(</span><span class="st">"Topic prevalence"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">topic</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="covid-preprint-topics_files/figure-html/unnamed-chunk-22-1.png" width="864"></p>
<p>biorxiv</p>
</div>
<div class="section level4">
<h4 id="preprint-server">Preprint server<a class="anchor" aria-label="anchor" href="#preprint-server"></a>
</h4>
<ul>
<li>difference comparison of multiple (or all) topics</li>
</ul>
<p><img src="covid-preprint-topics_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
<ul>
<li>comparison of single topic</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">covid_effect_K20</span>, </span>
<span>     covariate <span class="op">=</span> <span class="st">"server"</span>,</span>
<span>     topics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">17</span><span class="op">)</span>,</span>
<span>     model <span class="op">=</span> <span class="va">covid_model_K20</span>, </span>
<span>      method <span class="op">=</span> <span class="st">"pointestimate"</span>,</span>
<span>     <span class="co">#cov.value1 = "biorxiv", cov.value2 = "medrxiv",</span></span>
<span>     xlab <span class="op">=</span> <span class="st">"Topic prevalence"</span>,</span>
<span>     <span class="co">#xlim = c(-0.18, 0.18),</span></span>
<span>     main <span class="op">=</span> <span class="st">"Effect of preprint server"</span><span class="co">#,</span></span>
<span>     <span class="co">#labeltype = "prob"</span></span>
<span>     <span class="op">)</span></span></code></pre></div>
<p><img src="covid-preprint-topics_files/figure-html/unnamed-chunk-24-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="combination-of-preprint-server-and-publication-year">Combination of preprint server and publication year<a class="anchor" aria-label="anchor" href="#combination-of-preprint-server-and-publication-year"></a>
</h4>
<ul>
<li>topics 1 and TBD</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">biorxiv_effect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/stminsights/man/get_effects.html" class="external-link">get_effects</a></span><span class="op">(</span><span class="va">covid_effect_K20</span>,</span>
<span>                              variable <span class="op">=</span> <span class="st">"year"</span>, type <span class="op">=</span> <span class="st">"continuous"</span>, </span>
<span>                              moderator <span class="op">=</span> <span class="st">"server"</span>, modval <span class="op">=</span> <span class="st">"biorxiv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">medrxiv_effect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/stminsights/man/get_effects.html" class="external-link">get_effects</a></span><span class="op">(</span><span class="va">covid_effect_K20</span>,</span>
<span>                              variable <span class="op">=</span> <span class="st">"year"</span>, type <span class="op">=</span> <span class="st">"continuous"</span>, </span>
<span>                              moderator <span class="op">=</span> <span class="st">"server"</span>, modval <span class="op">=</span> <span class="st">"medrxiv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">server_effects</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">biorxiv_effect</span>, <span class="va">medrxiv_effect</span><span class="op">)</span></span>
<span></span>
<span><span class="va">server_effects</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">topic</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Topic"</span>, <span class="va">topic</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">value</span>, y <span class="op">=</span> <span class="va">proportion</span>, color <span class="op">=</span> <span class="va">moderator</span>,</span>
<span>               group <span class="op">=</span> <span class="va">moderator</span>, fill <span class="op">=</span> <span class="va">moderator</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_ribbon</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">lower</span>, ymax <span class="op">=</span> <span class="va">upper</span>, </span>
<span>                      fill <span class="op">=</span> <span class="va">moderator</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.2</span>, linetype <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">xlab</span><span class="op">(</span><span class="st">"Publication year"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">ylab</span><span class="op">(</span><span class="st">"Topic prevalence"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">topic</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="covid-preprint-topics_files/figure-html/unnamed-chunk-25-1.png" width="864"></p>
</div>
</div>
<div class="section level3">
<h3 id="exploring-the-topic-structure">Exploring the topic structure<a class="anchor" aria-label="anchor" href="#exploring-the-topic-structure"></a>
</h3>
<ul>
<li>primary, secondary etc topics</li>
<li>topic correlations</li>
<li>topic clusters</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-BenoitWatanabe_et_2018_JOSS_3" class="csl-entry">
Benoit, Kenneth, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng,
Stefan Müller, and Akitaka Matsuo. 2018. <span>“Quanteda: <span>An
R</span> Package for the Quantitative Analysis of Textual Data.”</span>
<em>Journal of Open Source Software</em> 3 (30): 774. <a href="https://doi.org/10.21105/joss.00774" class="external-link">https://doi.org/10.21105/joss.00774</a>.
</div>
<div id="ref-BleiLafferty2007_AAS_1" class="csl-entry">
Blei, David M., and John D. Lafferty. 2007. <span>“A Correlated Topic
Model of <span>Science</span>.”</span> <em>The Annals of Applied
Statistics</em> 1 (1): 17–35.
</div>
<div id="ref-DennySpirling_2018_PA_26" class="csl-entry">
Denny, Matthew J., and Arthur Spirling. 2018. <span>“Text
<span>Preprocessing</span> for <span>Unsupervised Learning</span>:
<span>Why It Matters</span>, <span>When It Misleads</span>, and
<span>What</span> to <span>Do</span> about <span>It</span>.”</span>
<em>Political Analysis</em> 26 (2): 168–89. <a href="https://doi.org/10.1017/pan.2017.44" class="external-link">https://doi.org/10.1017/pan.2017.44</a>.
</div>
<div id="ref-RobertsStewart_et_2019_JSTATS_91" class="csl-entry">
Roberts, Margaret E., Brandon M. Stewart, and Dustin Tingley. 2019.
<span>“Stm: <span>An R</span> Package for Structural Topic
Models.”</span> <em>Journal of Statistical Software</em> 91 (1): 1–40.
<a href="https://doi.org/10.18637/jss.v091.i02" class="external-link">https://doi.org/10.18637/jss.v091.i02</a>.
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stefan Daume.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
